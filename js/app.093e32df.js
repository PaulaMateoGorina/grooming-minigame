(function(){"use strict";var e={8810:function(e,a,s){var t,o,n,r,i=s(9242),l=s(7139);(function(e){e[e["INCORRECT"]=0]="INCORRECT",e[e["PARTIALLY_CORRECT"]=.5]="PARTIALLY_CORRECT",e[e["CORRECT"]=1]="CORRECT"})(t||(t={})),function(e){e[e["Normal"]=-1]="Normal",e[e["Comienzo de la amistad y relaci√≥n"]=1]="Comienzo de la amistad y relaci√≥n",e[e["Evaluaci√≥n de riesgo"]=3]="Evaluaci√≥n de riesgo",e[e["Exclusividad"]=4]="Exclusividad",e[e["Mitigaci√≥n de da√±os"]=7]="Mitigaci√≥n de da√±os",e[e["Petici√≥n de fotos indecentes"]=9]="Petici√≥n de fotos indecentes"}(o||(o={})),function(e){e[e["FRIENDSHIP"]=0]="FRIENDSHIP",e[e["RISK_ASSESSMENT"]=1]="RISK_ASSESSMENT",e[e["EXCLUSIVITY"]=2]="EXCLUSIVITY",e[e["DAMAGE_LIMITATION"]=3]="DAMAGE_LIMITATION",e[e["PICTURE_ASKING"]=4]="PICTURE_ASKING"}(n||(n={})),function(e){e[e["GAME_START"]=0]="GAME_START",e[e["NARRATION"]=1]="NARRATION",e[e["REPORT"]=2]="REPORT",e[e["DAILY_QUIZ"]=3]="DAILY_QUIZ",e[e["RESULT"]=4]="RESULT",e[e["GAME_FINISHED"]=5]="GAME_FINISHED"}(r||(r={}));const d=[{name:"Normal",enumValue:-1},{name:"Comienzo de la amistad y relaci√≥n",enumValue:1},{name:"Evaluaci√≥n de riesgo",enumValue:3},{name:"Exclusividad",enumValue:4},{name:"Mitigaci√≥n de da√±os",enumValue:7},{name:"Petici√≥n de fotos indecentes",enumValue:9}],c={NEG:-1,ZERO:0,HALF:.5,ONE:1},u={INITIAL_MULTIPLIER:1,NUM_PLAYING_STAGES:4},m={NORMAL_SNIPPET_STAGE_VAL:-1,NUM_GROOMING_STAGES:5},p={NUM_REPORT_PAGES_SINGLE:2,NUM_REPORT_PAGES_MULTI:3,NUM_SNIPPETS_PER_PAGE:2,MIN_SNIPPETS_PER_REPORT:2,MAX_SNIPPETS_PER_REPORT:4,POINTS_PER_REPORT:600},g={PLACEHOLDER_URL:"https://t4.ftcdn.net/jpg/03/49/49/79/360_F_349497933_Ly4im8BDmHLaLzgyKg2f2yZOvJjBtlw5.webp",PLACEHOLDER_USERNAME:"username",MIN_AGE_TEENAGER:13,MAX_AGE_TEENAGER:17,MAX_AGE_DIFFERENCE_TEENAGER:3,MIN_AGE_GROOMER:27,MAX_AGE_GROOMER:50,MIN_AGE_FAKE:15,MIN_AGE_NORMAL:13,MAX_AGE_NORMAL:30},R={YEAR_SAMPLES:[{value:0,weight:70},{value:1,weight:18},{value:2,weight:7},{value:3,weight:5}],MONTH_SAMPLES:[{value:0,weight:30},{value:1,weight:15},{value:2,weight:13},{value:3,weight:10},{value:4,weight:7},{value:5,weight:6},{value:6,weight:5},{value:7,weight:4},{value:8,weight:3},{value:9,weight:3},{value:10,weight:2},{value:11,weight:2}],MIN_DAYS:1,MAX_DAYS:30},h={TIME_TO_SOLVE:25,SUCCESS_MULTIPLIER_INCREASE:.5,SUCCESS_MULTIPLIER_DEDUCTION:.1},E={INFO:0,VERBOSE:1,ERROR:2};function x(e,a){switch(a){case E.INFO:console.info(e);break;case E.VERBOSE:console.debug(e);break;case E.ERROR:console.error(e);break}}var y=s(7327),S=(s(560),JSON.parse('[{"numDay":1,"numReports":1,"configuration":{"shouldSkipQuiz":true,"hasSnippets":false,"selectSnippets":false,"selectSnippetStages":false,"groomingProbability":0.75,"minAgeGroomer":40,"maxAgeGroomer":60},"narrationNodes":[{"text":"¬°Bienvenido a las oficinas de Instapic! Eres el nuevo becario, ¬øcorrecto?","goTo":-1,"options":[{"text":"S√≠, soy yo.","goTo":2},{"text":"No s√© de qu√© me hablas.","goTo":3}]},{"text":"¬°Perfecto! D√©jame que te explique las tareas que vas a llevar a cabo.","goTo":4},{"text":"¬øEn serio? Pues qu√© mala suerte, te va a tocar trabajar igualmente ^^. D√©jame que te explique las tareas que vas a llevar a cabo.","goTo":4},{"text":"B√°sicamente ser√°s algo parecido a un moderador de chats.","goTo":5},{"text":"A lo largo del d√≠a te llegar√°n informes que han sido marcados como posibles casos de grooming, y tendr√°s que decidir si efectivamente lo son, o si son chats normales.","goTo":6},{"text":"Espera... ¬øSabes siquiera lo que significa el t√©rmino grooming?","goTo":-1,"options":[{"text":"Claro que s√≠.","goTo":7},{"text":"No, no lo s√©.","goTo":10}]},{"text":"Aj√°. ¬øY qu√© significa?","goTo":-1,"options":[{"text":"Es el proceso por el cual un adulto establece una relaci√≥n con un menor para abusar de este.","goTo":8},{"text":"Se da cuando una persona percibe falsamente a su √≠dolo como alguien cercano a ella.","goTo":9},{"text":"Vale, lo admito. No lo s√©.","goTo":10}]},{"text":"¬°Correcto! Y cuando se da en las redes, se le llama online grooming.","goTo":12},{"text":"¬°Incorrecto! Eso es lo que se llama una relaci√≥n parasocial. A veces se puede dar en casos de grooming, pero no es grooming en s√≠ mismo.","goTo":11},{"text":"No pasa nada, ahora te lo explico.","goTo":11},{"text":"El grooming es el proceso por el cual un adulto establece una relaci√≥n con un menor para abusar de este. Si se da en las redes, se categoriza como online grooming.","goTo":12},{"text":"El grooming puede ser m√°s o menos largo, llegando a durar incluso a√±os.","goTo":13},{"text":"Creo que tienes suficiente informaci√≥n por ahora, sigamos con la explicaci√≥n de tu trabajo.","goTo":14},{"text":"Cada informe contendr√° informaci√≥n diversa sobre el chat entre dos usuarios.","goTo":15},{"text":"Como es tu primer d√≠a, comenzaremos con informes simplificados. Estos contienen solo la edad de las dos personas, la primera el posible groomer (acosador), y el tiempo que llevan de amigos. Te tendr√°s que basar en la edad para decidir.","goTo":16},{"text":"Cada vez que clasifiques un informe correctamente obtendr√°s puntos, que nos servir√°n para ver c√≥mo te desenvuelves con tus tareas.","goTo":17},{"text":"Al final del d√≠a volver√© y te har√© una pregunta relacionada con lo que has visto ese d√≠a.","goTo":18},{"text":"Te has quedado con todo, ¬øo necesitas que te lo repita?","goTo":-1,"options":[{"text":"Lo he entendido todo.","goTo":19},{"text":"Rep√≠te, por favor.","goTo":20}]},{"text":"¬°Pues a trabajar se ha dicho! Ah√≠ van tus primeros informes, a ver qu√© tal. Cuando acabes comentamos.","goTo":-1},{"text":"Tu trabajo consiste en revisar informes de chats y decidir si son casos de grooming o no.","goTo":14}]},{"numDay":1,"numReports":2,"configuration":{"shouldSkipQuiz":true,"hasSnippets":false,"selectSnippets":false,"selectSnippetStages":false,"groomingProbability":1,"minAgeGroomer":22,"maxAgeGroomer":30},"narrationNodes":[{"text":"¬øBueno, c√≥mo lo vas llevando de momento?","goTo":-1,"options":[{"text":"Ha sido pan comdio, era evidente.","goTo":2}]},{"text":"¬øS√≠? A ver c√≥mo te desenvuelves con los siguientes entonces.","goTo":-1}]},{"numDay":1,"numReports":0,"configuration":{"shouldSkipQuiz":false,"hasSnippets":false,"selectSnippets":false,"selectSnippetStages":false,"groomingProbability":1,"minAgeGroomer":22,"maxAgeGroomer":35},"narrationNodes":[{"text":"¬øQu√© te han parecido estos?","goTo":-1,"options":[{"text":"Todo bien de momento.","goTo":2},{"text":"No lo entiendo. Eran muy j√≥venes, podr√≠an ser amigos perfectamente.","goTo":3}]},{"text":"Genial!","goTo":3},{"text":"Obviamente, s√© que no se puede juzgar su relaci√≥n solamente en la edad de las personas.","goTo":4},{"text":"Aun as√≠, es importante saber que no todos los groomers son personas \'mayores\'.","goTo":5},{"text":"Muchas campa√±as lo pintan as√≠, pero no es verdad. Los acosadores tampoco suelen ser agresivos, o raptar a ni√±os como dicen muchos.","goTo":6},{"text":"En fin, creo que te he dado suficiente informaci√≥n por hoy.","goTo":-1,"options":[{"text":"Pues ale, ¬°hasta ma√±ana!","goTo":7}]},{"text":"¬°Espera! A√∫n no hemos acabado.","goTo":-1,"options":[{"text":"¬øQu√© falta ahora?","goTo":8}]},{"text":"Falta el quiz diario. No te preocupes, es s√∫per r√°pido. Si aciertas, incrementar√© tu multiplicador de puntos, as√≠ ganar√°s m√°s.","goTo":-1,"options":[{"text":"¬øY si fallo?","goTo":9}]},{"text":"Como es tu primer d√≠a, no pasar√° nada. Pero a partir de ma√±ana, si fallas disminuir√© tu multiplicador. Listo?","goTo":-1,"options":[{"text":"S√≠. ¬°Vamos!","goTo":-1}]}]},{"numDay":2,"numReports":3,"configuration":{"shouldSkipQuiz":false,"hasSnippets":true,"selectSnippets":false,"selectSnippetStages":false,"groomingProbability":0.6,"minAgeGroomer":22,"maxAgeGroomer":65},"narrationNodes":[{"text":"Buenos d√≠as. ¬øPreparado para otro d√≠a de trabajo?","goTo":-1,"options":[{"text":"Listo.","goTo":2}]},{"text":"Perfecto! Hoy los informes ser√°n un poco m√°s complejos. Adem√°s de los perfiles de los usuarios tendr√°s tambi√©n una serie de extractos de su chat con los que guiar tu decisi√≥n.","goTo":3},{"text":"¬øEntendido?","goTo":-1,"options":[{"text":"Espera. ¬øQu√© signos deber√≠a buscar en los chats?","goTo":4}]},{"text":"Bueno, cada acosador es diferente, pero la mayor√≠a se pueden encasillar en 3 grupos.","goTo":5},{"text":"El primero, el \'buscador de intimidad\', es el groomer que realmente quiere entablar una relaci√≥n con el menor, por lo que mensajes demasiado cari√±osos lo delatan.","goTo":6},{"text":"El segundo es el acosador \'hipersexualizado\', que insiste mucho en el tema sexual, ya sea fotos, mensajes subidos de tono... Como a√∫n eres nuevo, no te pondremos a cargo de informes de ese tipo, no te preocupes.","goTo":7},{"text":"Finalmente, est√° el groomer \'polivalente\', que cambia su estrategia seg√∫n la v√≠ctima.","goTo":8},{"text":"Aunque haya 3 tipos, todos tienen en com√∫n que al principio intentan sacarle la m√°xima informaci√≥n al menor sobre cosas como su situaci√≥n en casa, en la escuela, etc. Eso les dice si son vulnerables o no.","goTo":9},{"text":"Tambi√©n hay mucho √©nfasis en el secretismo, en caso de que haya relaci√≥n.","goTo":10},{"text":"Pero bueno, de esto te dire m√°s pr√≥ximamente, de momento con esto ya creo que es suficiente.","goTo":11},{"text":"Todo bien?","goTo":-1,"options":[{"text":"S√≠, estoy listo para comenzar el d√≠a.","goTo":14},{"text":"No, la verdad. Es mucha informaci√≥n. ¬øMe lo podr√≠as repetir, por favor?","goTo":12}]},{"text":"¬°Claro! No te preocupes, te lo explico de nuevo.","goTo":13},{"text":"Si tuvieramos que agrupar a los acosadores en grupos, habr√≠a 3 prominentes:","goTo":5},{"text":"Pues all√° vas. Esta vez, cuando acabes con los informes pasaremos directamente al quiz diario. ¬°Mucha suerte!","goTo":-1}]},{"numDay":3,"numReports":4,"configuration":{"shouldSkipQuiz":false,"hasSnippets":true,"selectSnippets":true,"selectSnippetStages":false,"groomingProbability":0.6,"minAgeGroomer":22,"maxAgeGroomer":65},"narrationNodes":[{"text":"Buenas. ¬øC√≥mo va todo?","goTo":-1,"options":[{"text":"Bien, ya me voy adaptando.","goTo":3},{"text":"Un poco as√≠ as√°.","goTo":2}]},{"text":"Bueno, no te preocupes. Poco a poco lo ir√°s pillando todo.","goTo":3},{"text":"Como ayer nos enfocamos en los acosadores, hoy te dar√© un poco de informaci√≥n sobre las v√≠ctimas.","goTo":4},{"text":"Seg√∫n t√∫, las v√≠ctimas son:","goTo":-1,"options":[{"text":"Solo chicas.","goTo":5},{"text":"Solo chicos.","goTo":5},{"text":"Tanto chicas como chicos.","goTo":6}]},{"text":"Pues no. Pueden ser tanto chicos como chicas, de la misma manera que los groomers pueden ser hombres o mujeres.","goTo":7},{"text":"¬°Correcto! Del mismo modo, los groomers pueden ser hombres o mujeres.","goTo":7},{"text":"Algunos factores que influyen en la propensidad a ser v√≠ctimas de grooming son los problemas para relacionarse con su fam√≠lia y compa√±eros de edad, o una actitud que muestre que se est√° dispuesto a tomar riesgos en Internet.","goTo":8},{"text":"Tambi√©n suelen ser v√≠ctimas los chicos que dudan de su sexualidad, y menores con problemas de salud mental.","goTo":9},{"text":"Pero bueno, que me voy por las ramas.","goTo":10},{"text":"Hoy aumentaremos la dificultad de tus tareas un poco.","goTo":11},{"text":"Aparte de marcar el informe como grooming o no, tendr√°s que indicar entre los extractos de chats los que son indicios de grooming.","goTo":12},{"text":"Ya sabes qu√© buscar: √©nfasis en el secretismo de la relaci√≥n, preguntas sobre la relaci√≥n con los padres, etc. ¬øListo?","goTo":-1,"options":[{"text":"Listo.","goTo":13}]},{"text":"Pues ale. ¬°Comenzamos!","goTo":-1}]},{"numDay":4,"numReports":4,"configuration":{"shouldSkipQuiz":false,"hasSnippets":true,"selectSnippets":true,"selectSnippetStages":true,"groomingProbability":0.75,"minAgeGroomer":22,"maxAgeGroomer":65},"narrationNodes":[{"text":"Buenos d√≠as. Ya en nada acabamos con la formaci√≥n. ¬øEmocionado? Seguro que s√≠.","goTo":2},{"text":"Hoy volveremos a subir la dificultad de los informes.","goTo":3},{"text":"Adem√°s de marcar los fragmentos de chats que son indicios de grooming, tambi√©n tendr√°s que indicar a qu√© fase corresponden.","goTo":-1,"options":[{"text":"Pero si eso no me lo has explicado a√∫n.","goTo":4}]},{"text":"Traaaanqui, a eso iba.","goTo":5},{"text":"Hay que recalcar que las llamamos fases, pero no necesariamente se dan en orden. Es m√°s para englobar ciertos comportamientos comunes en los groomers.","goTo":6},{"text":"Definimos 7 fases. No las ver√°s todas en los informes, pero igualmente te puedo preguntar sobre ellas al final del d√≠a, as√≠ que presta atenci√≥n. ¬øEntendido?","goTo":-1,"options":[{"text":"Entendido.","goTo":7}]},{"text":"Agrupamos la 1a y la 2a por su similitud en \'Comienzo de la amistad y relaci√≥n\'.","goTo":8},{"text":"En este per√≠odo el acosador intenta averiguar qu√© tan vulnerable es el menor, pregunt√°ndole sobre la relaci√≥n con sus compa√±eros en la escuela, en casa...","goTo":9},{"text":"Buscan saber si el menor tiene una red de apoyo, o si por contra se siente solo o incomprendido.","goTo":10},{"text":"La 3a fase la llamamos \'Evaluaci√≥n de riesgo\'.","goTo":11},{"text":"Aqu√≠ el groomer intenta saber si, en caso de entablar una \'relaci√≥n\' con el menor, har√≠a la posibilidad de ser descubierto.","goTo":12},{"text":"Por ejemplo, el acosador puede hacer preguntas sobre el dispositivo que utiliza para comunicarse por chat.","goTo":13},{"text":"Tambi√©n si ese dispositivo es compartido entre miembros de la fam√≠lia, si se lo revisa su tutor, o si est√° en alg√∫n sitio visible como el comedor.","goTo":14},{"text":"La 4a fase, \'Fase de exclusividad\', es donde el acosador se gana a la v√≠ctima y formar una relaci√≥n rom√°ntica con el menor.","goTo":15},{"text":"En esta fase, los groomers se intentan mostrar como una persona de confianza, a la que el menor le puede contar cualquier cosa.","goTo":16},{"text":"Una vez el \'noviazgo\' ha comenzado, el acosador se muestra muy cari√±oso con la v√≠ctima. Como una pareja, vaya.","goTo":17},{"text":"De momento todo bien, ¬øo te lo repito?","goTo":-1,"options":[{"text":"Todo bien, contin√∫a.","goTo":20},{"text":"Rep√≠te, por favor.","goTo":18}]},{"text":"Claro, sin problema.","goTo":19},{"text":"Como te dec√≠a, hay 7 fases.","goTo":7},{"text":"En la 5a fase, \'Fase sexual\', el groomer comienza a introducir temas sexuales al menor, de manera m√°s o menos sutil.","goTo":21},{"text":"Esto lo puede hacer preguntando por la sexualidad del menor o haciendo comentarios subidos de tono, por ejemplo.","goTo":22},{"text":"Luego tenemos la 6a fase, a la que llamamos \'Reproducci√≥n de fantas√≠as\'.","goTo":23},{"text":"En esta fase el acosador y el menor recrean una fantas√≠a sexual por mensaje. Dicha recreaci√≥n puede tambi√©n incluir el intercambio de fotos indebidas.","goTo":24},{"text":"Finalmente, en la 7a fase, \'Mitigaci√≥n de da√±os\', el acosador se intenta asegurar de que la v√≠ctima no le contar√° a nadie de su relaci√≥n.","goTo":25},{"text":"Esto incluye elogios por manetener la relaci√≥n en secreto, insistencia en el secretismo e incluso amenazas, en caso de tener fotos del menor.","goTo":26},{"text":"Se ha entendido todo?","goTo":-1,"options":[{"text":"S√≠, lo tengo todo claro.","goTo":28},{"text":"No todo. ¬øMe lo repites?","goTo":27}]},{"text":"Sin problema. ¬øDesde el principio, o a desde la fase 5?","goTo":-1,"options":[{"text":"Desde el principio","goTo":7},{"text":"Comienza desde la fase 5.","goTo":20}]},{"text":"¬°Perfecto! En los informes no apareceran ni la \'Fase sexual\' ni la \'Reproducci√≥n de fantas√≠as\', pero el resto s√≠.","goTo":29},{"text":"Adem√°s, tambi√©n habr√°n extractos donde habr√° que marcar que el acosador est√° pidiendo fotos indebidas.","goTo":30},{"text":"Como dato, puedes cambiar tu selecci√≥n cuando quieras. Para marcar r√°pidamente un extracto como normal, simplemente haz click derecho.","goTo":31},{"text":"Por √∫ltimo, no podr√°s marcar un informe como \'normal\' si tienes alg√∫n extracto marcado.","goTo":32},{"text":"En fin, ¬°A ello!","goTo":-1}]},{"numDay":5,"numReports":5,"configuration":{"shouldSkipQuiz":false,"hasSnippets":true,"selectSnippets":true,"selectSnippetStages":true,"groomingProbability":0.6,"minAgeGroomer":22,"maxAgeGroomer":65},"narrationNodes":[{"text":"¬°Buenas! ¬°Hoy es tu √∫ltimo d√≠a de formaci√≥n!","goTo":2},{"text":"Ayer ya te cont√© lo √∫ltimo que ten√≠as que saber. Hoy lo pondremos a prueba.","goTo":3},{"text":"Misma mec√°nica que la de ayer: marcar los fragmentos de chats sospechosos, e indicar la fase.","goTo":4},{"text":"¬øNecesitas que te vuelva a explicar las fases?","goTo":-1,"options":[{"text":"No, no hace falta","goTo":19},{"text":"S√≠, por favor.","goTo":5}]},{"text":"Vale, esta vez te las resumir√© un poco.","goTo":6},{"text":"Las dos primeras fases las juntamos en \'Comienzo de la amistad y relaci√≥n\'.","goTo":7},{"text":"El acosador intentar√° averiguar si el menor tiene una red de apoyo (fam√≠lia, amigos) o est√° o se siente solo.","goTo":8},{"text":"3a fase: \'Evaluaci√≥n de riesgo\'.","goTo":9},{"text":"Aqu√≠ el groomer intenta saber qu√© tan probable es que lo pillen en caso de comenzar una \'relaci√≥n\' con el menor.","goTo":10},{"text":"4a fase: \'Fase de exclusividad\'.","goTo":11},{"text":"En esta fase el acosador o bien se intenta mostrar como alguien a quien contarle sus problemas, o ya ha comenzado su relaci√≥n con el menor y act√∫a como su pareja.","goTo":12},{"text":"5a fase: \'Fase sexual\', donde el groomer comienza a introducir temas sexuales en las conversaciones que tiene con el menor.","goTo":13},{"text":"6a fase: \'Reproducci√≥n de fantas√≠as\'.","goTo":14},{"text":"Aqu√≠ el acosador y el menor reproducen fantas√≠as sexuales, y puede que intercambien fotos subidas de tono.","goTo":15},{"text":"7a y √∫ltima fase: \'Mitigaci√≥n de da√±os\'.","goTo":16},{"text":"El acosador intentar√° manipular a la v√≠ctima para que mantenga su relaci√≥n en secreto. Puede ser sutilmente, o a base de amenazas.","goTo":17},{"text":"Te recuerdo que, aunque numeremos las fases, no es algo que suceda de manera lineal. Algunos groomers se saltan fases, o las hacen en diferente orden","goTo":18},{"text":"¬øEntendido o repito?","goTo":-1,"options":[{"text":"Vale, lo he pillado.","goTo":19},{"text":"Repite, por favor.","goTo":6}]},{"text":"Pues ale. ¬°A trabajar!.","goTo":-1}]}]'));function T(e,a){return a?a+~~(Math.random()*(e-a+1)):~~(Math.random()*(e+1))}function v(e,a){return a?a+~~(Math.random()*(e-a)):~~(Math.random()*e)}function f(e){return Math.random()<e}function b(e){let a=Math.random()*e.reduce(((e,{weight:a})=>e+a),0);const s=e.find((({weight:e})=>(a-=e)<0))?.value;return s||e[0].value}var A=JSON.parse('[{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User1","text":"Q sueles hacer en tu tiempo libre??!"},{"sender":"User2","text":"Normalmente quedo con mis amigos, o juego con ellos online."},{"sender":"User1","text":"Y tienes muchos amigos?"},{"sender":"User2","text":"Normal, supongo"}]},{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User2","text":"Pues aqu√≠ estoy, haciendome la comida"},{"sender":"User1","text":"Y tus padres?"},{"sender":"User2","text":"Trabajando"},{"sender":"User1","text":"Y no tienes a nadie m√°s?"},{"sender":"User2","text":"Nop, soy hija √∫nica"}]},{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User1","text":"Eyy, soy el de la partida anterior. Jugamos juntos? "},{"sender":"User2","text":"Uff no s"},{"sender":"User1","text":"Porfaa, te regalo una skin si quieres"},{"sender":"User2","text":"Bueno venga"}]},{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User1","text":"Cu√°ntos a√±os tienes??"},{"sender":"User2","text":"15, tu?"},{"sender":"User1","text":"En serio? Por tu madurez pens√© que ten√≠amos la misma edad. Yo tengo 22"},{"sender":"User2","text":"A si?? Jaja graciass"}]},{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User2","text":"Perd√≥n por no contestar, no me encontraba muy bien üòî‚Äãüòî"},{"sender":"User1","text":"Est√°s bien?"},{"sender":"User2","text":"Si, es q me he peleado con mis padres"},{"sender":"User1","text":"Bueno no te preocupes, yo estoy contigo"}]},{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User2","text":"Y t√∫ q sueles hacer cuando est√°s libre?"},{"sender":"User1","text":"No mucho, es q en la escuela se meten conmigo"},{"sender":"User1","text":"Ojala ser como t√∫, seguro que tienes muchos amigos üòî‚Äãüòî‚Äã"},{"sender":"User2","text":"Jo que mal"},{"sender":"User2","text":"No tengo tantos la vd, pero con los que me llevo son muy majos conmigo"}]},{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User1","text":"Yo esq soy mucho de quedarme en casa sabes, soy bastante introvertido"},{"sender":"User1","text":"Tu eres m√°s introvertido o extrovertido?"},{"sender":"User2","text":"Pues como tu, estar con mucha gente me estresa"},{"sender":"User2","text":"No se como lo hace la gente que tiene como 100 amigos, que pereza üò™‚Äãüò™‚Äã"},{"sender":"User1","text":"Real"}]},{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User2","text":"Bueno te dejo que tengo atletismo"},{"sender":"User1","text":"Tambi√©n haces atletismo?"},{"sender":"User1","text":"Si que haces extraescolares no? No tendr√°s tiempo para m√≠ :("},{"sender":"User2","text":"Bueno, es lo que hay no? jaj"}]},{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User1","text":"Has tenido muchas novias?"},{"sender":"User2","text":"Noo, solo 1, pero no duramos casi nada porque seg√∫n ella quer√≠a centrarse en sus estudios y no ten√≠a tiempo para m√≠"},{"sender":"User1","text":"Bueno, no te preocupes, yo te puedo dar todo mi tiempo jeje üòâ‚Äãüòâ‚Äã"}]},{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User1","text":"Te gustan los chicos o las chicas a ti?"},{"sender":"User2","text":"Aun no lo s√©"},{"sender":"User2","text":"Estoy un poco confundido con ese tema la vd"},{"sender":"User1","text":"A mi me gustan los dos, yo te puedo ayudar si quieres"}]},{"arrayIdx":0,"stage":3,"Messages":[{"sender":"User1","text":"Tus padres son muy estrictos?"},{"sender":"User2","text":"Un poco, les tengo que mandar mensajes siempre que salgo"},{"sender":"User1","text":"Y te revisan el m√≥vil?"},{"sender":"User2","text":"A, eso no, que va"}]},{"arrayIdx":1,"stage":3,"Messages":[{"sender":"User1","text":"Me escribes desde el m√≥vil o de donde?"},{"sender":"User2","text":"Ahora mismo desde el pc"},{"sender":"User1","text":"Es tuyo propio?"},{"sender":"User2","text":"Noo, es de mi padre pero me deja usarlo cuando acabo los debere"},{"sender":"User1","text":"Ahhh"}]},{"arrayIdx":1,"stage":3,"Messages":[{"sender":"User2","text":"Bua ayer le cont√© a mi hermana lo que me dijiste y se parti√≥ de risa jajaja"},{"sender":"User1","text":"Le sueles contar todo lo que hablamos a tu hermana?"},{"sender":"User2","text":"Noo, fue solo esta vez. Poor??"},{"sender":"User1","text":"Noo, por nada"}]},{"arrayIdx":1,"stage":3,"Messages":[{"sender":"User2","text":"Un segundo que pongo el port√°til a cargar"},{"sender":"User1","text":"No tienes ning√∫n enchufe cerca? Donde pones el port√°til?"},{"sender":"User2","text":"Estaba en el sofa del comedor y no llega el cable"},{"sender":"User2","text":"Estoy desde la habitaci√≥n ahora"}]},{"arrayIdx":1,"stage":3,"Messages":[{"sender":"User2","text":"Perd√≥n, es q mi hermano me hab√≠a cogido el m√≥vil"},{"sender":"User1","text":"Te suele robar el m√≥vil tu hermano?"},{"sender":"User2","text":"Suele? No para el tio"},{"sender":"User2","text":"Le va demasiado el chisme, es un cotilla"}]},{"arrayIdx":1,"stage":3,"Messages":[{"sender":"User1","text":"Tus amigas y tu tambi√©n os compart√≠s capturas de pantalla?"},{"sender":"User2","text":"A veces"},{"sender":"User2","text":"Por ejemplo si hablamos con alguien que nos gusta y eso"},{"sender":"User1","text":"Somos iguales entonces, jaja"}]},{"arrayIdx":1,"stage":3,"Messages":[{"sender":"User1","text":"Ayer le pas√© una captura de pantalla de un chat con mi amigo Pablo a Alex y se enfad√≥ much√≠simo"},{"sender":"User1","text":"Ni que la captura fuera de su chat!"},{"sender":"User2","text":"Bueno es normal, yo no paso capturas porque a mi tampoco me gustar√≠a que fueran pasando lo que hablo con mis amigas por ah√≠ sbs."}]},{"arrayIdx":1,"stage":3,"Messages":[{"sender":"User1","text":"Dios mis amigas no paran de molestarme para que les diga con quien hablo"},{"sender":"User1","text":"No entienden lo q significa privacidad o q?"},{"sender":"User2","text":"Q reaaaaal, mis amigas tambi√©n son as√≠"},{"sender":"User2","text":"Nunca les ense√±o nada, eso les pasa por pesadas"}]},{"arrayIdx":1,"stage":3,"Messages":[{"sender":"User2","text":"Espera un momento, q estoy en clase y la profesora est√° mirando para ac√°"},{"sender":"User1","text":"Cuidado no te vayan a confiscar el m√≥vil, algunos incluso te hacen leer los Messages"},{"sender":"User2","text":"A, en mi insti te lo confiscan, pero no te hacen leer nada"},{"sender":"User2","text":"Luego al final del d√≠a lo recoges en secretar√≠a y ya"}]},{"arrayIdx":1,"stage":3,"Messages":[{"sender":"User1","text":"El pc de donde me escribes, lo tienes en tu cuarto?"},{"sender":"User2","text":"Noo, es de mi hermano"},{"sender":"User1","text":"Aaah, cada uno tiene su cuenta en el ordenador no?"},{"sender":"User2","text":"Noo, compartimos el mismo usuario"},{"sender":"User2","text":"Luego cada uno se mete a su perfil de chrome"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User1","text":"Buenos diaas"},{"sender":"User1","text":"Como est√° mi chica preferida?? ‚ù§Ô∏è‚Äã‚ù§Ô∏è"},{"sender":"User2","text":"Bieeen, y tu?ü•∞"},{"sender":"User1","text":"Bieen, te he echado de menos"},{"sender":"User2","text":"Y yo a ti ü•∞"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User2","text":"Tio mi padre"},{"sender":"User2","text":"Le cuento q se meten conmigo en la escuela y me llama exagerada üòíüòí"},{"sender":"User1","text":"En fin üòíüòí. Pero bueno no te preocupes, yo siempre estar√© aqu√≠ para t√≠"},{"sender":"User1","text":"No necesitas a nadie m√°s"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User1","text":"Ojal√° poder vernos en la vida real"},{"sender":"User2","text":"Ojal√°, las relaciones a distancia son muy dif√≠ciles üòî"},{"sender":"User1","text":"Tendremos que conformarnos con hablarnos por aqu√≠ y pasarnos fotos üòî‚ù§Ô∏è‚ù§Ô∏è"},{"sender":"User2","text":"üòî‚ù§Ô∏è‚ù§Ô∏è"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User2","text":"Muchas gracias por escucharme, ya me siento mucho mejor ü•∞ü•∞"},{"sender":"User1","text":"De nada, para eso somos novios üòåüòå"},{"sender":"User1","text":"Ya sabes que soy la √∫nica en la q puedes confiar "},{"sender":"User1","text":"Los dem√°s no valen la pena"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User1","text":"Hola??? Por q no contestas? Est√°s con otra?"},{"sender":"User2","text":"Qu√©? No!! Estaba en llamada con Juan, no estaba mirando el m√≥vil"},{"sender":"User1","text":"Si te hablo cont√©stame, esto no lo vuelvas a hacer"},{"sender":"User1","text":"No, no lo har√©, perd√≥n üòî"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User2","text":"[Foto]"},{"sender":"User1","text":"Qu√© guapa es mi novia, te queda genial esa falda ü•∞ü•∞"},{"sender":"User1","text":"Aunque quiz√°s una m√°s corta te quedar√≠a mejor üòù"},{"sender":"User2","text":"üò≥üò≥üò≥"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User1","text":"Estaba teniendo muy mal d√≠a, pero el hablar contigo me ha alegrado el d√≠a üòçüòç"},{"sender":"User2","text":"üò≥üò≥üò≥"},{"sender":"User2","text":"Tu tambi√©n alegras mis d√≠as jo üò≠üò≠‚ù§Ô∏è"},{"sender":"User1","text":"‚ù§Ô∏è‚ù§Ô∏è"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User1","text":"Buenas nochess"},{"sender":"User1","text":"Ojal√° so√±ar contigo ‚ù§Ô∏è‚ù§Ô∏è"},{"sender":"User2","text":"Ojal√° so√±ar contigo tambi√©n jeje  üôàüôà‚ù§Ô∏è‚ù§Ô∏è"},{"sender":"User2","text":"Buenas nochess üòò"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User2","text":"Perd√≥n, estaba jugando con Marta al GoG"},{"sender":"User1","text":"Pasas demasiado tiempo con ella, me tienes abandonado üòîüíî, eguro que ya no te gusto"},{"sender":"User2","text":"Claro que me sigues gustandoo ü•∫ü•∫"},{"sender":"User2","text":"Ma√±ana quedamos para llamar"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User1","text":"Si es algo que te molesta creo que deber√≠as hablarlo cara a cara con Carlos para aclarar cualquier malentendido."},{"sender":"User2","text":"Mmm, supongo que s√≠"},{"sender":"User2","text":"Muchas gracias por aconsejarme, siempre puedo confiar en ti üòåüòå"},{"sender":"User1","text":"Claro que s√≠, para algo somos mejores amigos üòâüòâ‚ù§Ô∏è"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User1","text":"Oye, lo que hablamos t√∫ y yo no se lo digas a nadie eh, es secreto"},{"sender":"User2","text":"Noo, no te preocupes"},{"sender":"User1","text":"As√≠ me gusta"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User2","text":"Tio"},{"sender":"User2","text":"No me paran de preguntar mis padres que con quien hablo"},{"sender":"User1","text":"Buf, que pesados"},{"sender":"User1","text":"Tu ni caso, no es asunto suyo"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User2","text":"Oye, por que no le puedo contar a mis amigas que somos novios?"},{"sender":"User1","text":"La gente es muy cerrada de mente"},{"sender":"User1","text":"Nos mirarian mal, no nos entenderian"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User2","text":"Te puedo llamar?"},{"sender":"User1","text":"Hay alguien en tu casa?"},{"sender":"User2","text":"Mi hermana, pero est√° estudiando con los cascos puestos"},{"sender":"User2","text":"No nos escuchar√°"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User1","text":"Has entrado a Toother?"},{"sender":"User2","text":"Noo, que ha pasado?"},{"sender":"User1","text":"Han cancelado a Rabias por hablar con una menor, ni que fuera un delito. El amor no tiene edad"},{"sender":"User2","text":"Bua pues no me hab√≠a enterado, que injusto"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User1","text":"No hay nadie que me caiga m√°s mal que los chivatos"},{"sender":"User1","text":"Menos mal que me enamor√© de ti, tu si que sabes guardar secretos ü•∞"},{"sender":"User2","text":"üòé‚Äãüòé‚Äãüòé‚Äã"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User1","text":"Recuerda no contarle a nadie que estamos saliendo"},{"sender":"User1","text":"Como me entere de que se lo cuentas a alguien‚Ä¶"},{"sender":"User1","text":"Ya sabes lo que puede pasar, no?"},{"sender":"User2","text":"Lo s√© lo s√©, no se lo contar√© a nadie lo juro"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User2","text":"Bua, le estaba contando a mi amiga lo que hablabamos ayer y no se lo cre√≠a"},{"sender":"User1","text":"Se lo has dicho a tu amiga???? Sabes en el lio que me puedo meter si se enteran de q estamos juntos??"},{"sender":"User2","text":"Perdon, no lo sab√≠a"},{"sender":"User2","text":"No lo volver√© a hacer"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User2","text":"Uff, no te cont√©"},{"sender":"User2","text":"Ayer se pusieron muy pesados mis padres con revisarme el m√≥vil, pero al final pude escaquearme"},{"sender":"User1","text":"Ooooleee"},{"sender":"User1","text":"Luego te compro algo en el GoG"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User1","text":"Recuerda q esto es un secreto entre los dos üòâ"},{"sender":"User2","text":"Y por q tiene q ser secreto?"},{"sender":"User1","text":"As√≠ es m√°s emocionante, no lo crees?"},{"sender":"User2","text":"Supongo que s√≠, jeje"}]},{"arrayIdx":4,"stage":9,"Messages":[{"sender":"User1","text":"Me pasas una foto tuya??"},{"sender":"User2","text":"Uff, no s√©‚Ä¶"},{"sender":"User1","text":"Venga vaaa, te paso yo una m√≠a"},{"sender":"User2","text":"Bueno, vale"}]},{"arrayIdx":4,"stage":9,"Messages":[{"sender":"User1","text":"No me creo que tengas solo 16, seguro que tienes 20"},{"sender":"User2","text":"Que pesao"},{"sender":"User2","text":"Que si que tengo 16"},{"sender":"User1","text":"A ver, pasame una foto para demostrarlo"}]},{"arrayIdx":4,"stage":9,"Messages":[{"sender":"User1","text":"Eyy, que haces??"},{"sender":"User2","text":"Prepar√°ndome para salir"},{"sender":"User1","text":"A donde?? Qu√© te vas a poner?"},{"sender":"User2","text":"A√∫n no me decido"},{"sender":"User1","text":"A ver, p√°same una foto de las opciones."}]}]'),N=JSON.parse('[{"stage":-1,"Messages":[{"sender":"User1","text":"Eyy"},{"sender":"User1","text":"Te echas un vamogant?"},{"sender":"User2","text":"okk"},{"sender":"User1","text":"Dc?"},{"sender":"User2","text":"5 min y voy"}]},{"stage":-1,"Messages":[{"sender":"User1","text":"Te has visto la serie de Bugman?"},{"sender":"User2","text":"Siii, esta muy chulaa"},{"sender":"User1","text":"A q siiiii, cual es tu personaje fav??"},{"sender":"User2","text":"Sarah, obviamente"},{"sender":"User1","text":"Pues a mi me cae fatal tu üíÄüíÄ"}]},{"stage":-1,"Messages":[{"sender":"User1","text":"Q haces normalmente en tu tiempo libre??"},{"sender":"User2","text":"Normalmente juego con mis amigos por discord, tu?"},{"sender":"User1","text":"Yo tambien, nos agregamos??"},{"sender":"User2","text":"Valee"}]},{"stage":-1,"Messages":[{"sender":"User2","text":"Pasame las fotos de hoy pls"},{"sender":"User1","text":"Foto"},{"sender":"User2","text":"Ty"}]},{"stage":-1,"Messages":[{"sender":"User1","text":"Que tal el concierto de Taylor???"},{"sender":"User2","text":"Bua fue una pasada üò≠üò≠. Vaya reina"},{"sender":"User1","text":"Ya me pasaras los videos jeje"},{"sender":"User2","text":"Siiiüíñüíñ "}]},{"stage":-1,"Messages":[{"sender":"User1","text":"Al final quedamos ma√±ana??"},{"sender":"User2","text":"Siii, viene Alex tmb, te importa??"},{"sender":"User1","text":"Noo, pero no he hablado casi con el"},{"sender":"User2","text":"Es muy majo, ya ver√°s como te cae bien"}]},{"stage":-1,"Messages":[{"sender":"User2","text":"Oye, el boss este del Wicked Inhabitant como se mata? "},{"sender":"User1","text":"Primero tienes q pillar la escopeta del almac√©n de abajo"},{"sender":"User1","text":"Luego tienes q distraerlo con la alarma y pillarlo por detr√°s"},{"sender":"User2","text":"Vale mercii"}]},{"stage":-1,"Messages":[{"sender":"User2","text":"Se han vuelto a meter conmigo hoy"},{"sender":"User2","text":"Se lo he dicho a los profesores pero no hacen nada"},{"sender":"User2","text":"No se que hacer"},{"sender":"User1","text":"Has intentado hablar con tus padres? Deber√≠as cont√°rselo."}]},{"stage":-1,"Messages":[{"sender":"User1","text":"Hablaste con la tutora al final??"},{"sender":"User2","text":"Sii, este jueves tengo una reuni√≥n con ella y mis padres"},{"sender":"User2","text":"Muchas gracias, no s√© si habr√≠a tenido el valor de contarlo si no fuera por ti"},{"sender":"User1","text":"De nada hombree. Estas cosas hay que hablarlas, porque si no empeoran sabes"}]},{"stage":-1,"Messages":[{"sender":"User2","text":"Perdon q te de la chapa"},{"sender":"User2","text":"Pero eres la √∫nica persona en la que puedo confiar"},{"sender":"User1","text":"Deber√≠as intentar buscar consejo de alg√∫n adulto de tu alrededor. Si no te puedo pasar links con organizaciones, seguro que te ayudan"},{"sender":"User2","text":"Lo agradecer√≠a"}]},{"stage":-1,"Messages":[{"sender":"User2","text":"Has visto lo de la cantante Alex Smith?"},{"sender":"User2","text":"La gente no para de mandarle odio, aun cuando solo se lleva 4 a√±os con su pareja"},{"sender":"User1","text":"Aunque solo fueran 4 a√±os, cuando se conocieron el chico era menor, normal que se le tiren encima"},{"sender":"User1","text":"Hay mucha diferencia de 22 a 18 a√±os"}]},{"stage":-1,"Messages":[{"sender":"User1","text":"Qu√© tal el primer d√≠a de instituto?"},{"sender":"User2","text":"Ten√≠a miedo de quedarme sola el primer d√≠a de insti, pero he conocido a una chica llamada N√∫ria üòÅ "},{"sender":"User1","text":"Me alegroo, seguro que os haceis amigas üòå"},{"sender":"User2","text":"Sii, eso espero üòä üòä"}]}]');class _{constructor(e,a,s){(0,y.Z)(this,"id",void 0),(0,y.Z)(this,"stage",void 0),(0,y.Z)(this,"messages",void 0),(0,y.Z)(this,"chosen",void 0),this.id=e,this.stage=a,this.messages=s,this.chosen=!1}getAnswerResult(e,a){let s=t.INCORRECT;try{a?(x("Snippet.ts > getAnswerResult > check selected",E.VERBOSE),this.stage*e>0&&(s=this.stage===e?t.CORRECT:t.PARTIALLY_CORRECT)):this.stage*e>c.ZERO&&(s=t.CORRECT)}catch(o){x(`Snippet.ts > getAnswerResult > Could not compare answers for the chat snippet. #ERROR: ${o}`,E.ERROR)}return s}}var I=_;class C{constructor(e,a,s,t){(0,y.Z)(this,"avatar",void 0),(0,y.Z)(this,"username",void 0),(0,y.Z)(this,"onlineAge",void 0),(0,y.Z)(this,"realAge",void 0),this.avatar=e,this.username=a,this.onlineAge=s,this.realAge=t}}var O=C;class q{constructor(e,a,s){(0,y.Z)(this,"id",void 0),(0,y.Z)(this,"sender",void 0),(0,y.Z)(this,"text",void 0),this.id=e,this.sender=a,this.text=s}}var U=q;class P{constructor(e,a,s,t,o){(0,y.Z)(this,"isGrooming",void 0),(0,y.Z)(this,"user1Profile",void 0),(0,y.Z)(this,"user2Profile",void 0),(0,y.Z)(this,"friendshipTime",void 0),(0,y.Z)(this,"snippets",void 0),this.isGrooming=e,this.user1Profile=a,this.user2Profile=s,this.friendshipTime=t,this.snippets=o||[]}getAnswerResult(e,a,s,o){let n=c.ZERO;try{if(this.isGrooming===e)if(n+=t.CORRECT,e&&a&&this.snippets){for(let e=0;e<this.snippets.length;e++){const a=this.snippets[e],t=o[e];n+=a.getAnswerResult(t,s)}n/=this.snippets.length+c.ZERO}else n=c.ONE}catch(r){console.error("Report.ts solveAndGetScore > ERROR: Error trying to get the points resulting of solving the report.")}return n}}var M=P;class w{constructor(){(0,y.Z)(this,"groomingSnippets",void 0),(0,y.Z)(this,"numGroomingSnippets",void 0),(0,y.Z)(this,"normalSnippets",void 0),(0,y.Z)(this,"numNormalSnippets",void 0),this.groomingSnippets=[];for(let a=c.ZERO;a<m.NUM_GROOMING_STAGES;a++)this.groomingSnippets.push([]);const e=this.loadGroomingSnippets();this.numGroomingSnippets=[];for(const a of this.groomingSnippets)this.numGroomingSnippets.push(a.length);this.normalSnippets=[],this.loadNormalSnippets(e),this.numNormalSnippets=this.normalSnippets.length}static getInstance(){return w.instance||(w.instance=new w),w.instance}createMessage(e,a){let s;try{s=new U(e,a.sender,a.text)}catch(t){x(`ReportManager.ts > createMessage > ERROR creating new message instance. #ERROR: ${t}`,E.ERROR)}return s}createSnippet(e,a){let s;try{const t=[];let o=c.ZERO;for(const e of a.Messages){const a=this.createMessage(o,e);if(void 0===a)throw"Snippet message created was undefined.";t.push(a),o++}if(!(t.length>c.ZERO))throw"The snippet had no messages";s=new I(e,a.stage,t)}catch(t){x(`ReportManager.ts > createSnippet > ERROR creating new snippet instance. #ERROR: ${t}`,E.ERROR)}return s}loadGroomingSnippets(){let e=c.ZERO;try{const a=A;let s=c.ZERO;for(const e of a){const a=this.createSnippet(s,e);if(void 0===a)throw"Snippet created was undefined.";this.groomingSnippets[e.arrayIdx].push(a),s++}e=s}catch(a){x(`ReportManager.ts > loadGroomingSnippets > ERROR loading grooming snippets. #ERROR: ${a}`,E.ERROR)}return e}loadNormalSnippets(e){try{const a=N;let s=c.ZERO;for(const t of a){const a=this.createSnippet(s+e,t);if(void 0===a)throw"Snippet created was undefined.";this.normalSnippets.push(a),s++}}catch(a){x(`ReportManager.ts > loadNormalSnippets > ERROR loading normal snippets. #ERROR: ${a}`,E.ERROR)}}generateGroomingSnippetList(e){const a=[];try{const s=Math.random();let t=!1;e>p.MIN_SNIPPETS_PER_REPORT&&(t=s>c.HALF);const o=t?v(e):-1;let n=c.ZERO;const r=[];while(n<e){let e;e=n===o?this.sampleNormalSnippet():this.sampleGroomingSnippet(),e&&!r.includes(e.id)&&(e.chosen=!0,a.push(e),r.push(e.id),n++)}}catch(s){x(`ReportManager.ts > generateGroomingSnippetList > ERROR generating grooming snippet list. #ERROR: ${s}`,E.ERROR)}return a}generateNormalSnippetList(e){const a=[];try{let s=c.ZERO;const t=[];while(s<e){const e=this.sampleNormalSnippet();e&&!t.includes(e.id)&&(a.push(e),t.push(e.id),s++)}}catch(s){x(`ReportManager.ts > generateGroomingSnippetList > ERROR generating grooming snippet list. #ERROR: ${s}`,E.ERROR)}return a}generateSnippetList(e){let a=[];try{const s=p.MIN_SNIPPETS_PER_REPORT+T(p.MAX_SNIPPETS_PER_REPORT,p.MIN_SNIPPETS_PER_REPORT);a=e?this.generateGroomingSnippetList(s):this.generateNormalSnippetList(s)}catch(s){x(`ReportManager.ts > generateSnippetList > ERROR generating snippet list. #ERROR: ${s}`,E.ERROR)}return a}generateGroomerProfile(e,a,s){let t;const o=a||g.MIN_AGE_GROOMER,n=s||g.MAX_AGE_GROOMER;try{const a=T(o,n),s=e?a:T(g.MAX_AGE_TEENAGER,g.MIN_AGE_FAKE);t=new O(g.PLACEHOLDER_URL,g.PLACEHOLDER_USERNAME,s,a)}catch(r){x(`ReportManager.ts > generateTeenProfile > ERROR not generate a teenager profile. #ERROR: ${r}`,E.ERROR)}return t}generateTeenProfile(e){let a;try{const s=T(g.MAX_AGE_TEENAGER,g.MIN_AGE_TEENAGER),t=e?s:T(s+g.MAX_AGE_DIFFERENCE_TEENAGER,s);a=new O(g.PLACEHOLDER_URL,g.PLACEHOLDER_USERNAME,s,t)}catch(s){x(`ReportManager.ts > generateTeenProfile > ERROR not generate a teenager profile. #ERROR: ${s}`,E.ERROR)}return a}generateNormalProfile(e){let a;try{const s=T(g.MAX_AGE_NORMAL,g.MIN_AGE_NORMAL),t=e?s:T(s+g.MAX_AGE_DIFFERENCE_TEENAGER,s);a=new O(g.PLACEHOLDER_URL,g.PLACEHOLDER_USERNAME,s,t)}catch(s){x(`ReportManager.ts > generateTeenProfile > ERROR not generate a teenager profile. #ERROR: ${s}`,E.ERROR)}return a}sampleGroomingSnippet(e){let a;try{let s=c.ZERO;e||(e=v(m.NUM_GROOMING_STAGES)),s=this.numGroomingSnippets[e],a=this.groomingSnippets[e][v(s)]}catch(s){x(`ReportManager.ts > sampleGroomingSnippet > ERROR sampling a random grooming snippet. #ERROR: ${s}`,E.ERROR)}return a}sampleNormalSnippet(){let e;try{e=this.normalSnippets[v(this.numNormalSnippets)]}catch(a){x(`ReportManager.ts > sampleNormalSnippet > ERROR sampling a random normal snippet. #ERROR: ${a}`,E.ERROR)}return e}generateReport(e){x("generateReport > Start",E.VERBOSE);const a=f(e.groomingProbability);let s;try{const t=f(c.HALF),o=a?this.generateGroomerProfile(t,e.minAgeGroomer,e.maxAgeGroomer):this.generateNormalProfile(t),n=f(c.HALF),r=this.generateTeenProfile(n);if(void 0===o||void 0===r)throw new Error("User profiles could not be created properly.");const i=[T(R.MIN_DAYS,R.MAX_DAYS),b(R.MONTH_SAMPLES),b(R.YEAR_SAMPLES)];let l=[];e.hasSnippets&&(l=this.generateSnippetList(a)),s=new M(a,o,r,i,l)}catch(t){x(`ReportManager.ts > generateReport > ERROR generating a report. #ERROR: ${t}`,E.ERROR)}return x("generateReport > END",E.VERBOSE),s}}(0,y.Z)(w,"instance",void 0);var G=w,D=JSON.parse('[{"question":"El grooming es:","options":["El proceso en el que un adulto entabla una relaci√≥n con un menor para abusar de este","Un t√©rmino sacado del ingl√©s, que descrie el cuidado de la apariencia personal con tal de mejorar la imagen de uno mismo contra los dem√°s","El proceso por el cual una persona percibe falsamente que conoce de manera personal a su √≠dolo, y que es una persona cercana a este"],"correctAnswer":1,"explanation":"El grooming se da cuando un adulto crea un v√≠culo con un menor de edad para abusar de este","day":1},{"question":"El grooming se da: ","options":["Entre un adulto mayor de 40 y un menor de edad","Entre un adulto desconocido y un menor de edad","Entre un adulto y un menor de edad"],"correctAnswer":3,"explanation":"No TODOS los acosadores tienen m√°s de 40 a√±os. Adem√°s, hay acosadores que establecen relaciones duraderas con sus v√≠ctimas. Por ello, para estas, ya no son desconocidos","day":1},{"question":"El acosador siempre es un desconocido para la v√≠ctima. Esta afirmaci√≥n es:","options":["Verdadera","Falsa"],"explanation":"Los acosadores entablecen una relaci√≥n de amistad con la v√≠ctima previo al abuso. Para ese entonces, el acosador ya no es un \'desconocido\'.\\nEs un amigo","correctAnswer":2,"day":1},{"question":"El acosador: ","options":["No siempre aparenta ser un menor de edad","Siempre oculta su verdadera identidad, haciendo creer a la v√≠ctima que es un menor de edad"],"correctAnswer":1,"explanation":"No todos los groomers ocultan su edad, o al menos no siempre aparentan ser menores de edad. Muchos intentan mostrarse como figuras de autoridad y confianza con tal de ganarse al menor.","day":1},{"question":"Los acosadores NO siempre son violentos e insistentes, ni tampoco suelen abducir a sus v√≠ctimas cuando es posible. Esta afirmaci√≥n es:","options":["Verdadera","Falsa"],"correctAnswer":1,"explanation":"En la mayor√≠a de casos, los acosadores se muestran amigables con sus v√≠ctimas con tal de ganarse su confianza. Adem√°s, si bien hay casos en que la v√≠ctima ha sido secuestrada, son pocos","day":1},{"question":"Un menor y un adulto:","options":["Pueden tener gustos en com√∫n, pero no deber√≠an establezcer una relaci√≥n rom√°ntica","Pueden tener cosas en com√∫n, y es normal que formen una relaci√≥n rom√°ntica","Tienen muchas cosas en com√∫n, por lo que es natural que puedan entablar una relaci√≥n rom√°ntica"],"correctAnswer":1,"explanation":"Un adulto y un menor pueden compartir intereses, pero la diferencia de edad crea un diferencia de poder de la que el adulto se puede aprovechar para explotar al menor","day":1},{"question":"Por muy maduro que seas, nunca tendr√°s la suficiente madurez mental como para salir con un adulto. Esta afirmaci√≥n es:","options":["Verdadera","Falsa"],"correctAnswer":1,"explanation":"Los groomers acostumbran a decirle a sus v√≠ctimas que son maduras para su edad con tal de manipularlos. No importa la madurez que se tenga, la brecha siempre ser√° demasiada","day":1},{"question":"Hay 3 tipos de groomers. El \'buscador de intimidad\' es aquel que:","options":["Busca entablar una relaci√≥n rom√°ntica verdadera con el menor","Cambia su estrategia dependiendo de las actitudes que tenga su v√≠ctima","Hace mucho √©nfasis y se precipita en el tema sexual"],"correctAnswer":1,"explanation":"El groomer \'buscador de intimidad\' es aquel que busca entablar una relaci√≥n rom√°ntica verdadera con el menor","day":2},{"question":"Hay 3 tipos de groomers. El \'polivalente\' es aquel que:","options":["Busca entablar una relaci√≥n rom√°ntica verdadera con el menor","Cambia su estrategia dependiendo de las actitudes que tenga su v√≠ctima","Hace mucho √©nfasis y se precipita en el tema sexual"],"correctAnswer":2,"explanation":"El acosador \'polivalmente\' es aquel que cambia su estrategia dependiendo de las actitudes que tenga su v√≠ctima","day":2},{"question":"Hay 3 tipos de groomers. El \'hipersexualizado\' es aquel que:","options":["Busca entablar una relaci√≥n rom√°ntica verdadera con el menor","Cambia su estrategia dependiendo de las actitudes que tenga su v√≠ctima","Hace mucho √©nfasis y se precipita en el tema sexual"],"correctAnswer":3,"explanation":"El acosador \'hipersexualizado\' es aquel que hace mucho √©nfasis y se precipita en el tema sexual","day":2},{"question":"El groomer que busca entablar una relaci√≥n rom√°ntica verdadera con el menor es el:","options":["Buscador de intimidad","Polivalente","Hipersexualizado"],"correctAnswer":1,"explanation":"El groomer \'buscador de intimidad\' es aquel que busca entablar una relaci√≥n rom√°ntica verdadera con el menor","day":2},{"question":"El groomer que cambia su estrategia dependiendo de las actitudes que tenga su v√≠ctima es el:","options":["Buscador de intimidad","Polivalente","Hipersexualizado"],"correctAnswer":2,"explanation":"El acosador \'polivalmente\' es aquel que cambia su estrategia dependiendo de las actitudes que tenga su v√≠ctima","day":2},{"question":"El groomer que hace mucho √©nfasis en el tema sexual es el:","options":["Buscador de intimidad","Polivalente","Hipersexualizado"],"correctAnswer":3,"explanation":"El acosador \'hipersexualizado\' es aquel que hace mucho √©nfasis y se precipita en el tema sexual","day":2},{"question":"La v√≠ctima siempre es una chica. Esta afirmaci√≥n es:","options":["Verdadera","Falsa"],"correctAnswer":2,"explanation":"Los chicos tambi√©n pueden ser v√≠ctimas de grooming. De hecho, bastantes casos se dan contra chicos intentando descubrir si son homosexuales o no","day":3},{"question":"Entre otros, las personas m√°s susceptibles a ser v√≠ctimas de grooming son:","options":["Aquellos con una red de apoyo emocional fuerte","Solo aquellos con problemas familiares o en la escuela, que est√°n apartados de la sociedad","Solo aquellos que se muestran abiertos a tomar riesgos","Menores de edad que se sienten solos, tienen problemas al relacionarse con los dem√°s o se muestran abiertos a tomar riesgos","Todos los anteriores"],"correctAnswer":4,"explanation":"Mostrarse abierto a tomar riesgos por internet, sentimientos de soledad y problemas en las relaciones interpersonales son factores que aumentan el riesgo a ser v√≠ctima de grooming","day":3},{"question":"Para protegerme del grooming, debo:","options":["Intentar encontrar personas con quien pueda comunicarme en caso de tener alg√∫n prolema en internet","Mostrarme cauteloso con las personas con las que me comunico por internet","Ambas son correctas"],"correctAnswer":2,"explanation":"Los groomers generalmente atacan a v√≠ctimas con poco apoyo emocional y que se muestran abiertos a tomar riesgos en las redes. Hay que ser cautelosos e intentar tener alguien a qui√©n acudir en caso de conflicto.","day":3},{"question":"En el \'Comienzo de la amistad y relaci√≥n\', el acosador intentar√°:","options":["Introducir temas sexuales a las conversaciones con el menor","Averiguar qu√© tan probable es que lo descubran en caso de entablar una relaci√≥n con el menor","Averiguar si el menor tiene una red de apoyo (fam√≠lia, amigos) o est√° o se siente solo","A base de elogios o amenazas, impedir que el menor hable de su relaci√≥n con el groomer","Hacer creer a la v√≠ctima que es una persona de confianza, y entablar una relaci√≥n rom√°ntica con ella"],"correctAnswer":3,"explanation":"En el \'Comienzo de la amistad y relaci√≥n\', el acosador intenta averiguar qu√© tan vulnerable es la v√≠ctima.","day":4},{"question":"En la \'Evaluaci√≥n de riesgo\', el acosador intentar√°:","options":["Averiguar qu√© tan probable es que lo descubran en caso de entablar una relaci√≥n con el menor","Introducir temas sexuales a las conversaciones con el menor","Averiguar si el menor tiene una red de apoyo (fam√≠lia, amigos) o est√° o se siente solo","A base de elogios o amenazas, impedir que el menor hable de su relaci√≥n con el groomer","Reproducir fantas√≠as sexuales con el menor"],"correctAnswer":1,"explanation":"En la \'Evaluaci√≥n de riesgo\', el acosador intenta saber si es probable que se le descura o no.","day":4},{"question":"En la \'Fase de exclusividad\', el acosador intentar√°:","options":["Averiguar qu√© tan probable es que lo descubran en caso de entablar una relaci√≥n con el menor","Introducir temas sexuales a las conversaciones con el menor","Averiguar si el menor tiene una red de apoyo (fam√≠lia, amigos) o est√° o se siente solo","Reproducir fantas√≠as sexuales con el menor","Hacer creer a la v√≠ctima que es una persona de confianza, y entablar una relaci√≥n rom√°ntica con ella"],"correctAnswer":5,"explanation":"En la \'Fase de exclusividad\', el acosador trata de mostrarse como alguien de confianza y comenzar su relaci√≥n con el menor.","day":4},{"question":"En la \'Fase sexual\', el acosador intentar√°:","options":["Introducir temas sexuales a las conversaciones con el menor","Averiguar qu√© tan probable es que lo descubran en caso de entablar una relaci√≥n con el menor","A base de elogios o amenazas, impedir que el menor hable de su relaci√≥n con el groomer","Hacer creer a la v√≠ctima que es una persona de confianza, y entablar una relaci√≥n rom√°ntica con ella","Reproducir fantas√≠as sexuales con el menor"],"correctAnswer":1,"explanation":"En la \'Fase sexual\', el acosador introduce poco a poco temas sexuales para desensibilizar a su v√≠ctima.","day":4},{"question":"En la fase de \'Recreaci√≥n de fantas√≠as\', el acosador intentar√°:","options":["Averiguar qu√© tan probable es que lo descubran en caso de entablar una relaci√≥n con el menor","Introducir temas sexuales a las conversaciones con el menor","Reproducir fantas√≠as sexuales con el menor","Averiguar si el menor tiene una red de apoyo (fam√≠lia, amigos) o est√° o se siente solo","Hacer creer a la v√≠ctima que es una persona de confianza, y entablar una relaci√≥n rom√°ntica con ella"],"correctAnswer":3,"explanation":"En la fase de \'Recreaci√≥n de fantas√≠as\', el acosador recrea fantas√≠as sexuales con el menor via chat.","day":4},{"question":"En la fase de \'Mitigaci√≥n de da√±os\', el acosador intentar√°:","options":["Averiguar si el menor tiene una red de apoyo (fam√≠lia, amigos) o est√° o se siente solo","Reproducir fantas√≠as sexuales con el menor","Averiguar qu√© tan probable es que lo descubran en caso de entablar una relaci√≥n con el menor","A base de elogios o amenazas, impedir que el menor hable de su relaci√≥n con el groomer","Introducir temas sexuales a las conversaciones con el menor"],"correctAnswer":4,"explanation":"En la fase de \'Mitigaci√≥n de da√±os\', el acosador intentar√° de diversas maneras evitar que la v√≠ctima delate su relaci√≥n.","day":4},{"question":"En la fase de \'Mitigaci√≥n de da√±os\', el acosador intentar√°:","options":["Averiguar si el menor tiene una red de apoyo (fam√≠lia, amigos) o est√° o se siente solo","Reproducir fantas√≠as sexuales con el menor","Averiguar qu√© tan probable es que lo descubran en caso de entablar una relaci√≥n con el menor","A base de elogios o amenazas, impedir que el menor hable de su relaci√≥n con el groomer","Introducir temas sexuales a las conversaciones con el menor"],"correctAnswer":4,"explanation":"En la fase de \'Mitigaci√≥n de da√±os\', el acosador intentar√° de diversas maneras evitar que la v√≠ctima delate su relaci√≥n.","day":4},{"question":"El acosador intenta averiguar lo vulnerable que es la v√≠ctima en la fase:","options":["Comienzo de la amistad y relaci√≥n","Evaluaci√≥n de riesgo","Fase de exclusividad","Fase sexual","Recreaci√≥n de fantas√≠as","Mitigaci√≥n de da√±os"],"correctAnswer":1,"explanation":"En el \'Comienzo de la amistad y relaci√≥n\', el acosador intenta averiguar qu√© tan vulnerable es la v√≠ctima.","day":4},{"question":"El acosador intenta averiguar lo probable es que le pillen en la fase:","options":["Comienzo de la amistad y relaci√≥n","Evaluaci√≥n de riesgo","Fase de exclusividad","Fase sexual","Recreaci√≥n de fantas√≠as","Mitigaci√≥n de da√±os"],"correctAnswer":2,"explanation":"En la \'Evaluaci√≥n de riesgo\', el acosador intenta saber si es probable que se le descura o no.","day":4},{"question":"El acosador intenta entablar la relaci√≥n rom√°ntica en la fase:","options":["Comienzo de la amistad y relaci√≥n","Evaluaci√≥n de riesgo","Fase de exclusividad","Fase sexual","Recreaci√≥n de fantas√≠as","Mitigaci√≥n de da√±os"],"correctAnswer":3,"explanation":"En la \'Fase de exclusividad\', el acosador trata de mostrarse como alguien de confianza y comenzar su relaci√≥n con el menor.","day":4},{"question":"El acosador intenta introducir temas sexuales en las conversaciones en la fase:","options":["Comienzo de la amistad y relaci√≥n","Evaluaci√≥n de riesgo","Fase de exclusividad","Fase sexual","Recreaci√≥n de fantas√≠as","Mitigaci√≥n de da√±os"],"correctAnswer":4,"explanation":"En la \'Fase sexual\', el acosador introduce poco a poco temas sexuales para desensibilizar a su v√≠ctima.","day":4},{"question":"El acosador intenta recrear fantas√≠as sexuales en la fase:","options":["Comienzo de la amistad y relaci√≥n","Evaluaci√≥n de riesgo","Fase de exclusividad","Fase sexual","Recreaci√≥n de fantas√≠as","Mitigaci√≥n de da√±os"],"correctAnswer":5,"explanation":"En la fase de \'Recreaci√≥n de fantas√≠as\', el acosador recrea fantas√≠as sexuales con el menor via chat.","day":4},{"question":"El acosador intenta evitar que la v√≠ctima hable de su relaci√≥n con otros en la fase:","options":["Comienzo de la amistad y relaci√≥n","Evaluaci√≥n de riesgo","Fase de exclusividad","Fase sexual","Recreaci√≥n de fantas√≠as","Mitigaci√≥n de da√±os"],"correctAnswer":6,"explanation":"En la fase de \'Mitigaci√≥n de da√±os\', el acosador intentar√° de diversas maneras evitar que la v√≠ctima delate su relaci√≥n.","day":4}]');class L{constructor(e,a,s,t,o){(0,y.Z)(this,"question",void 0),(0,y.Z)(this,"options",void 0),(0,y.Z)(this,"numOptions",void 0),(0,y.Z)(this,"correctAnswer",void 0),(0,y.Z)(this,"explanation",void 0),(0,y.Z)(this,"day",void 0),(0,y.Z)(this,"chosen",void 0),this.question=e,this.options=a,this.numOptions=a.length,this.correctAnswer=s,this.explanation=t,this.day=o,this.chosen=!1}getAnswerResult(e){return e===this.correctAnswer}}var z=L;class k{constructor(){(0,y.Z)(this,"dailyQuizzes",void 0),(0,y.Z)(this,"numDailyQuizzes",void 0),this.dailyQuizzes=[],this.loadDailyQuizzes(),this.numDailyQuizzes=this.dailyQuizzes.length}static getInstance(){return k.instance||(k.instance=new k),k.instance}createDailyQuiz(e){let a;try{a=new z(e.question,e.options,e.correctAnswer-c.ONE,e.explanation,e.day-c.ONE)}catch(s){x(`QuizManager.ts > createDailyQuiz > ERROR creating new daily quiz instance. #ERROR: ${s}`,E.ERROR)}return a}loadDailyQuizzes(){try{const e=D;for(const a of e){const e=this.createDailyQuiz(a);if(void 0===e)throw"DailyQuiz created was undefined.";this.dailyQuizzes.push(e)}}catch(e){x(`QuizManager.ts > loadDailyQuizzes > ERROR loading daily quizzes. #ERROR: ${e}`,E.ERROR)}}sampleDailyQuiz(e){const a=void 0===e?0:e;let s;try{do{const e=v(this.numDailyQuizzes);s=this.dailyQuizzes[e]}while(s.day>a)}catch(t){x(`QuizManager.ts > sampleDailyQuiz > ERROR sampling a random daily quiz. #ERROR: ${t}`,E.ERROR)}return s}}(0,y.Z)(k,"instance",void 0);var Z=k;class j{constructor(e,a,s,t){(0,y.Z)(this,"numReports",void 0),(0,y.Z)(this,"configuration",void 0),(0,y.Z)(this,"narrationNodes",void 0),(0,y.Z)(this,"reports",void 0),(0,y.Z)(this,"dailyQuiz",void 0),(0,y.Z)(this,"numDay",void 0);const o=G.getInstance(),n=Z.getInstance();this.numDay=e,this.numReports=a,this.configuration=s,this.narrationNodes=t;for(const r of this.narrationNodes)if(r.goTo--,r.options)for(const e of r.options)e.goTo--;this.reports=[];for(let r=0;r<a;){const e=o.generateReport(this.configuration);void 0!==e&&(this.reports.push(e),r++)}if(!s.shouldSkipQuiz){const a=n.sampleDailyQuiz(e);a&&(this.dailyQuiz=a)}}}class H{constructor(){(0,y.Z)(this,"days",void 0),(0,y.Z)(this,"numDays",void 0),this.days=[],this.numDays=0}resetDays(){this.days=[],this.loadDays(),this.numDays=this.days.length}static getInstance(){return H.instance||(H.instance=new H),H.instance}createDay(e){let a;try{a=new j(e.numDay-c.ONE,e.numReports,e.configuration,e.narrationNodes)}catch(s){x(`DayManager.ts > createDay > ERROR creating new day instance. #ERROR: ${s}`,E.ERROR)}return a}loadDays(){x("DayManager.ts > loadDays > START",E.VERBOSE);try{const e=S;for(const a of e){const e=this.createDay(a);if(void 0===e)throw"DailyQuiz created was undefined.";this.days.push(e)}}catch(e){x(`DayManager.ts > loadDays > ERROR loading the day information and creating the days. #ERROR: ${e}`,E.ERROR)}x("DayManager.ts > loadDays > END",E.VERBOSE)}getDay(e){let a;try{if(!(e<this.numDays&&this.days[e]))throw new Error(`There is no day with index ${e}, there are only ${this.numDays}`);a=this.days[e]}catch(s){x(`DayManager.ts > getDay > ERROR getting the day. #ERROR: ${s}`,E.ERROR)}return a}getNumDays(){return this.numDays}}(0,y.Z)(H,"instance",void 0);var F=H;function Q(){V.commit("newDay")}function Y(){V.commit("changeDay")}function B(){V.commit("newGame")}const V=(0,l.MT)({state:{visibleGameStage:r.GAME_START,curDayIdx:0,curReportIdx:0,multiplier:c.ONE,points:0,selectGroomingSnippets:!0,selectSnippetStages:!0,snippetStagesSelected:[],curDay:void 0,curReport:void 0,curDailyQuiz:void 0,hasError:!1,debugMode:!1,firstPlaythrough:!0},mutations:{initialize(){x("gameStore.ts > Initializing gameStore",E.INFO);try{B()}catch(e){x("gameStore.ts > initialize > Error initializing the game store. #ERROR: "+e,E.ERROR)}},newGame(e){x("gameStore.ts > newGame",E.INFO),F.getInstance().resetDays(),e.visibleGameStage=r.GAME_START,e.curDayIdx=0,e.points=c.ZERO,e.multiplier=u.INITIAL_MULTIPLIER,e.debugMode=!1,Q()},newDay(e){try{const a=F.getInstance().getDay(e.curDayIdx);if(void 0===a)throw new Error("Error when fetching the day.");e.curDay=a,e.selectGroomingSnippets=a.configuration.selectSnippets,e.selectSnippetStages=a.configuration.selectSnippetStages,e.curReportIdx=0;const s=a.reports[e.curReportIdx];if(e.snippetStagesSelected=e.curReport&&e.curReport.snippets?Array(e.curReport.snippets.length).fill(m.NORMAL_SNIPPET_STAGE_VAL):[],void 0===a)throw new Error("Error when fetching the first report of the day.");e.curReport=s;const t=a.dailyQuiz;e.curDailyQuiz=t}catch(a){x("gameStore.ts > newDay > Error resetting the state for a new day. #ERROR: "+a,E.ERROR)}},changeStage(e,a){a===r.REPORT?(e.visibleGameStage!==r.NARRATION&&e.curReportIdx++,e.curReportIdx<e.curDay.numReports?(e.curReport=e.curDay.reports[e.curReportIdx],e.snippetStagesSelected=e.curReport&&e.curReport.snippets?Array(e.curReport.snippets.length).fill(m.NORMAL_SNIPPET_STAGE_VAL):[],e.visibleGameStage=r.REPORT):e.curDay&&e.curDay.configuration.shouldSkipQuiz?(Y(),e.visibleGameStage=r.NARRATION):e.visibleGameStage=r.DAILY_QUIZ):a===r.NARRATION&&e.visibleGameStage!==r.GAME_START?(e.visibleGameStage=r.NARRATION,Y()):e.visibleGameStage=a},addScore(e,a){e.points=Math.round(e.points+a)},changeMultiplier(e,a){e.curDay&&(0!==e.curDay.numDay||a)&&(e.multiplier+=a?h.SUCCESS_MULTIPLIER_INCREASE:c.NEG*h.SUCCESS_MULTIPLIER_DEDUCTION)},changeDay(e){e.curDayIdx++,e.curDayIdx<F.getInstance().getNumDays()?Q():e.visibleGameStage=r.GAME_FINISHED},changeSnippetStageSelected(e,a){x(`gameStore.ts > changeSnippetStageSelected > new stage for idx ${a.idx} is ${a.stage}`,E.VERBOSE),e.snippetStagesSelected[a.idx]=a.stage},nextPlaythrough(e){e.firstPlaythrough=!1}},getters:{aSnippetIsSelected:e=>{let a=!1;for(const s of e.snippetStagesSelected)if(s>c.ZERO){a=!0;break}return a},isFirstDay:e=>0===e.curDay?.numDay,isDebugMode:e=>e.debugMode,isFirstPlaythrough:e=>e.firstPlaythrough}});var W=s(3396);function $(e,a,s,t,o,n){const r=(0,W.up)("GameComponent");return(0,W.wg)(),(0,W.j4)(r)}var X=s(2268);const K={class:"game flex-center-aligned"},J={key:0,class:"info"},ee={class:"info-text"},ae={class:"info-text"};function se(e,a,s,t,o,n){const r=(0,W.up)("TitleScreenComponent"),l=(0,W.up)("NarrativeScreenComponent"),d=(0,W.up)("ReportComponent"),c=(0,W.up)("DailyQuizCardComponent"),u=(0,W.up)("ResultCardComponent");return(0,W.wg)(),(0,W.iD)("div",K,[(0,W.Wm)(i.uT,{name:"fade"},{default:(0,W.w5)((()=>[e.curGameStage===e.EGameStage.GAME_START||e.curGameStage===e.EGameStage.GAME_FINISHED?((0,W.wg)(),(0,W.j4)(r,{key:0,isStart:e.curGameStage===e.EGameStage.GAME_START},null,8,["isStart"])):(0,W.kq)("",!0)])),_:1}),e.curGameStage===e.EGameStage.NARRATION?((0,W.wg)(),(0,W.j4)(l,{key:0,class:"fade-in"})):(0,W.kq)("",!0),e.curGameStage===e.EGameStage.REPORT?((0,W.wg)(),(0,W.j4)(d,{key:1,onSolveReport:e.handleSolveReport,class:"fade-in"},null,8,["onSolveReport"])):(0,W.kq)("",!0),(0,W.Wm)(i.uT,{name:"slide-fade"},{default:(0,W.w5)((()=>[e.curGameStage===e.EGameStage.REPORT?((0,W.wg)(),(0,W.iD)("div",J,[(0,W._)("p",ee,(0,X.zw)(e.pointsText),1),(0,W._)("p",ae,(0,X.zw)(e.reportsRemainingText),1)])):(0,W.kq)("",!0)])),_:1}),(0,W.Wm)(i.uT,{name:"slide-fade"},{default:(0,W.w5)((()=>[e.curGameStage===e.EGameStage.DAILY_QUIZ?((0,W.wg)(),(0,W.j4)(c,{key:0,onSolveDailyQuiz:e.handleSolveDailyQuiz},null,8,["onSolveDailyQuiz"])):(0,W.kq)("",!0)])),_:1}),(0,W.Wm)(i.uT,{name:"slide-fade"},{default:(0,W.w5)((()=>[e.curGameStage===e.EGameStage.RESULT?((0,W.wg)(),(0,W.j4)(u,{key:0,isReportResult:e.pointsGotten>=0,correctness:e.correctness,pointsGotten:e.pointsGotten},null,8,["isReportResult","correctness","pointsGotten"])):(0,W.kq)("",!0)])),_:1})])}const te=e=>((0,W.dD)("data-v-88f16ad4"),e=e(),(0,W.Cn)(),e),oe={id:"title-screen-background",class:"flex-center-aligned non-selectable-text"},ne={class:"title-screen-container flex-center-aligned flex-column"},re={key:0,class:"fade-in flex-center-aligned flex-column non-selectable-text"},ie={class:"game-title"},le=te((()=>(0,W._)("div",{class:"divisor"},null,-1))),de={class:"game-subtitle"},ce={key:1,class:"flex-center-aligned flex-column"},ue={class:"game-title"},me=te((()=>(0,W._)("div",{class:"divisor"},null,-1))),pe={class:"game-subtitle"},ge={class:"title-screen-points"},Re={style:{"font-size":"18px"}},he={href:"https://forms.gle/wwxafQtGNyxz2Fn76",style:{"font-size":"18px"}};function Ee(e,a,s,t,o,n){const r=(0,W.up)("CModalBody"),i=(0,W.up)("CButton"),l=(0,W.up)("CModalFooter"),d=(0,W.up)("CModal");return(0,W.wg)(),(0,W.iD)(W.HY,null,[(0,W._)("div",oe,[(0,W._)("div",ne,[e.isStart?((0,W.wg)(),(0,W.iD)("div",re,[(0,W._)("p",ie,(0,X.zw)(e.GENERAL_STRINGS.GAME_TITLE),1),le,(0,W._)("p",de,(0,X.zw)(e.GENERAL_STRINGS.GAME_SUBTITLE),1),(0,W._)("div",{class:"title-screen-button flex-center-aligned",onClick:a[0]||(a[0]=(...a)=>e.startGame&&e.startGame(...a))},(0,X.zw)(e.GENERAL_STRINGS.START),1)])):(0,W.kq)("",!0),e.isStart?(0,W.kq)("",!0):((0,W.wg)(),(0,W.iD)("div",ce,[(0,W._)("p",ue,(0,X.zw)(e.GENERAL_STRINGS.END_TITLE),1),me,(0,W._)("p",pe,(0,X.zw)(e.GENERAL_STRINGS.END_PTS_TEXT),1),(0,W._)("p",ge,(0,X.zw)(e.total_points)+" pts",1),(0,W._)("div",{class:"title-screen-button flex-center-aligned",onClick:a[1]||(a[1]=(...a)=>e.resetGame&&e.resetGame(...a))},(0,X.zw)(e.GENERAL_STRINGS.PLAY_AGAIN),1)]))])]),(0,W.Wm)(d,{alignment:"center",visible:e.questionnaireModalOpen,onClose:a[2]||(a[2]=()=>{e.closeModal()})},{default:(0,W.w5)((()=>[(0,W.Wm)(r,null,{default:(0,W.w5)((()=>[(0,W._)("h4",Re,(0,X.zw)(e.GENERAL_STRINGS.PROMPT_QUESTIONNAIRE),1),(0,W._)("a",he,(0,X.zw)(e.GENERAL_STRINGS.CLICK_TO_QUESTIONNAIRE),1)])),_:1}),(0,W.Wm)(l,null,{default:(0,W.w5)((()=>[(0,W.Wm)(i,{variant:"outline",onClick:e.closeModal,class:"title-screen-button play-again-button"},{default:(0,W.w5)((()=>[(0,W.Uk)((0,X.zw)(e.GENERAL_STRINGS.PLAY_AGAIN),1)])),_:1},8,["onClick"])])),_:1})])),_:1},8,["visible"])],64)}const xe={NUM_PLACEHOLDER:"YYY",NUM_PLACEHOLDER_2:"XXX",POINTS_INFO:"Puntuaci√≥n: YYY pts",REPORTS_REMAINING:"Informes realizados: YYY / XXX",GAME_TITLE:"Groombuster",GAME_SUBTITLE:"Y t√∫, ¬øSabr√≠as reconocer casos de online grooming?",START:"Comenzar a jugar",END_TITLE:"¬°Has completado el juego!",END_PTS_TEXT:"Tu puntuaci√≥n total es de:",PLAY_AGAIN:"Volver a jugar",CONTINUE_NARRATION:"Haz click para continuar",DAILY_QUIZ_TIME:"¬°Hora de poner a prueba lo aprendido!",ANSWER:"El informe es",PROMPT_QUESTIONNAIRE:"Antes de volver a jugar, agradecer√≠amos que rellanaras el siguiente cuestionario:",CLICK_TO_QUESTIONNAIRE:"Clica aqu√≠ para ir al cuestionario"},ye={USERNAME:"Username:",ONLINE_AGE:"Edad online:",REAL_AGE:"Edad real:",FRIENDSHIP_START:"Han sido amigos por: ",FRIENDSHIP_YEARS:"a√±os,",FRIENDSHIP_MONTHS:"meses y",FRIENDSHIP_DAYS:"d√≠as"},Se={NUM_PLACEHOLDER:"YYY",CORRECT:"CORRECTA",PARTIALLY_CORRECT:"PARCIALMENTE CORRECTA",INCORRECT:"INCORRECTA",REPORT_CORRECT:"¬°Enhorabuena! Has sumado YYY puntos.\n ¬°Sigue as√≠!",REPORT_P_CORRECT:"Has sumado YYY puntos, pero no te conf√≠es. \n¬°Sigamos mejorando!",REPORT_INCORRECT:"Esta vez no has sumado puntos, pero no desistas. \n¬°Sigamos mejorando!",QUIZ_CORRECT:"¬°Enhorabuena! Se ha a√±adido 0.5 a tu multiplicador de puntuaci√≥n.",QUIZ_INCORRECT:"Se ha restado 0.1 a tu multiplicador de puntuaci√≥n.",QUIZ_CORRECT_ANSWER_WAS:"La respuesta correcta era: ",NEW_SCORE:"Nueva puntuaci√≥n: YYY pts",NEW_MULTIPLIER:"Nuevo multiplicador: xYYY",CONTINUE:"Continuar"};var Te=s(6947),ve=(0,W.aZ)({name:"TitleScreenComponent",data(){return{GENERAL_STRINGS:xe,questionnaireModalOpen:!1}},components:{CModal:Te.Tk,CModalBody:Te.sD,CModalFooter:Te.Ym,CButton:Te.u5},props:{isStart:Boolean},methods:{startGame(){V.commit("changeStage",r.NARRATION)},resetGame(){this.firstPlaythrough?this.questionnaireModalOpen=!0:V.commit("newGame")},closeModal(){this.questionnaireModalOpen=!1,V.commit("newGame"),V.commit("nextPlaythrough")}},computed:{total_points(){return V.state.points},firstPlaythrough(){return V.getters.isFirstPlaythrough}}}),fe=s(89);const be=(0,fe.Z)(ve,[["render",Ee],["__scopeId","data-v-88f16ad4"]]);var Ae=be;const Ne={key:0,class:"fade-in narrative-option-container"},_e=["onClick"],Ie={key:1,id:"continue-narration",class:"pulsating-element"};function Ce(e,a,s,t,o,n){const r=(0,W.up)("TypewriterTextComponent"),l=(0,W.up)("OnClickOutside");return(0,W.wg)(),(0,W.j4)(l,{onTrigger:e.nextDialogue},{default:(0,W.w5)((()=>[(0,W._)("div",{id:"narrative-text-container",class:"flex-center-aligned non-selectable-text flex-column",onClick:a[0]||(a[0]=a=>e.nextDialogue(e.curNode?e.curNode.goTo:-1))},[(0,W.Wm)(r,{textToWriteProp:e.curNode.text,newTextDelayProp:e.newTextDelay,typingSpeed:e.typingSpeed,onFinishedTyping:e.handleFinishedTyping},null,8,["textToWriteProp","newTextDelayProp","typingSpeed","onFinishedTyping"]),e.curNode&&void 0!==e.curNode.options&&e.showContinueMessage?((0,W.wg)(),(0,W.iD)("div",Ne,[((0,W.wg)(!0),(0,W.iD)(W.HY,null,(0,W.Ko)(e.curNode.options,(a=>((0,W.wg)(),(0,W.iD)("div",{key:a.text,onClick:(0,i.iM)((s=>e.goTo(a.goTo)),["stop"]),class:"narrative-option"},(0,X.zw)(a.text),9,_e)))),128))])):(0,W.kq)("",!0),e.showContinueMessage&&!e.curNodeHasOptions?((0,W.wg)(),(0,W.iD)("p",Ie,(0,X.zw)(e.GENERAL_STRINGS.CONTINUE_NARRATION),1)):(0,W.kq)("",!0)])])),_:1},8,["onTrigger"])}const Oe={class:"flex-center-aligned non-selectable-text typewriter-container"},qe={class:"typed-text"};function Ue(e,a,s,t,o,n){return(0,W.wg)(),(0,W.iD)("div",Oe,[(0,W._)("span",qe,(0,X.zw)(e.curText),1)])}var Pe=(0,W.aZ)({name:"TypewriterTextComponent",data:()=>({curText:"",typeStatus:!1,charIndex:c.ZERO}),props:{textToWriteProp:String,newTextDelayProp:Number,typingSpeed:Number},methods:{typeText(){this.charIndex<this.textToWrite.length?(this.typeStatus||(this.typeStatus=!0),this.curText+=this.textToWrite.charAt(this.charIndex),this.charIndex+=1,setTimeout(this.typeText,this.typingSpeed)):this.$emit("finishedTyping")}},watch:{textToWriteProp(){this.curText="",this.charIndex=c.ZERO,setTimeout(this.typeText,this.typingSpeed)}},computed:{textToWrite(){return this.textToWriteProp?this.textToWriteProp:""},newTextDelay(){return this.newTextDelayProp?this.newTextDelayProp:0}},created(){setTimeout(this.typeText,this.newTextDelay+200)}});const Me=(0,fe.Z)(Pe,[["render",Ue],["__scopeId","data-v-4d4b9b40"]]);var we=Me,Ge=s(1733),De=(0,W.aZ)({name:"NarrativeScreenComponent",components:{TypewriterTextComponent:we,OnClickOutside:Ge.vo},data(){return{GENERAL_STRINGS:xe,typingSpeed:40,curNode:void 0,curNodeHasOptions:!1,newTextDelay:0,showContinueMessage:!1}},methods:{handleFinishedTyping(){this.showContinueMessage=!0},nextDialogue(e){this.showContinueMessage&&(this.curNodeHasOptions||(this.showContinueMessage=!1,e>0?(this.curNode=this.narrationNodes[e],this.curNodeHasOptions=void 0!==this.narrationNodes[e].options):V.commit("changeStage",r.REPORT)))},goTo(e){e>0?(this.curNode=this.narrationNodes[e],this.curNodeHasOptions=void 0!==this.narrationNodes[e].options,this.showContinueMessage=!1):V.commit("changeStage",r.REPORT)}},computed:{narrationNodes(){return V.state.curDay&&V.state.curDay.narrationNodes?V.state.curDay.narrationNodes:[]}},created(){this.curNode=this.narrationNodes[c.ZERO],this.curNodeHasOptions=void 0!==this.curNode.options&&this.curNode.options.length>0}});const Le=(0,fe.Z)(De,[["render",Ce],["__scopeId","data-v-07d30c90"]]);var ze=Le;const ke={class:"report flex-center-aligned"},Ze={key:0},je={key:1},He={key:2},Fe={key:3,class:"report-buttons-container non-selectable-text flex-center-aligned flex-col"},Qe={key:0,class:"bottom-report-buttons-container non-selectable-text flex-center-aligned flex-col"},Ye={class:"button-container"},Be={class:"button-container"},Ve={key:1,class:"floating-report-buttons-container non-selectable-text"};function We(e,a,s,t,o,n){const r=(0,W.up)("ProfilesPageComponent"),i=(0,W.up)("ChatSnippetPageComponent"),l=(0,W.up)("CButton"),d=(0,W.up)("ErrorModalComponent");return(0,W.wg)(),(0,W.iD)(W.HY,null,[(0,W._)("div",ke,[0===e.currentPage?((0,W.wg)(),(0,W.iD)("div",Ze,[e.user1&&e.user2&&e.friendshipTime?((0,W.wg)(),(0,W.j4)(r,{key:0,user1:e.user1,user2:e.user2,friendshipTime:e.friendshipTime},null,8,["user1","user2","friendshipTime"])):(0,W.kq)("",!0)])):(0,W.kq)("",!0),1===e.currentPage&&e.snippetIdxPairsPage1.length>0?((0,W.wg)(),(0,W.iD)("div",je,[(0,W.Wm)(i,{snippetIdxPairs:e.snippetIdxPairsPage1},null,8,["snippetIdxPairs"])])):(0,W.kq)("",!0),2===e.currentPage&&e.snippetIdxPairsPage2.length>0?((0,W.wg)(),(0,W.iD)("div",He,[(0,W.Wm)(i,{snippetIdxPairs:e.snippetIdxPairsPage2},null,8,["snippetIdxPairs"])])):(0,W.kq)("",!0),this.showReportButtonsContainerInside?((0,W.wg)(),(0,W.iD)("div",Fe,[(0,W._)("div",{onClick:a[0]||(a[0]=a=>e.changePage(!1)),class:(0,X.C_)({"report-button":!0,"prev-button":!0,invisible:0===e.currentPage})},"‚Äπ",2),(0,W.Wm)(l,{color:"danger",variant:"outline",onClick:a[1]||(a[1]=a=>e.sendSolveReport(!0)),class:"answer-button my-button"},{default:(0,W.w5)((()=>[(0,W.Uk)("Grooming")])),_:1}),(0,W.Wm)(l,{color:"success",variant:"outline",onClick:a[2]||(a[2]=a=>e.sendSolveReport(!1)),class:"answer-button my-button"},{default:(0,W.w5)((()=>[(0,W.Uk)("Normal")])),_:1}),(0,W._)("div",{onClick:a[3]||(a[3]=a=>e.changePage(!0)),class:(0,X.C_)({"report-button":!0,"next-button":!0,invisible:e.currentPage===e.numPages-1})},"‚Ä∫",2)])):(0,W.kq)("",!0),(0,W.Wm)(d,{onCloseModal:e.handleCloseModal,visibility:e.solveReportErrorModalVisible,message:"NO puedes marcar un informe como normal si tienes un snippet seleccionado."},null,8,["onCloseModal","visibility","message"])]),this.showReportButtonsContainerInside?(0,W.kq)("",!0):((0,W.wg)(),(0,W.iD)("div",Qe,[(0,W._)("div",Ye,[(0,W._)("div",{onClick:a[4]||(a[4]=a=>e.changePage(!1)),class:(0,X.C_)({"report-button":!0,"prev-button":!0,invisible:0===e.currentPage})},"‚Äπ",2)]),(0,W._)("div",Be,[(0,W._)("div",{onClick:a[5]||(a[5]=a=>e.changePage(!0)),class:(0,X.C_)({"report-button":!0,"next-button":!0,invisible:e.currentPage===e.numPages-1})},"‚Ä∫",2)])])),this.showReportButtonsContainerInside?(0,W.kq)("",!0):((0,W.wg)(),(0,W.iD)("div",Ve,[(0,W._)("p",null,(0,X.zw)(e.GENERAL_STRINGS.ANSWER),1),(0,W.Wm)(l,{color:"danger",variant:"outline",onClick:a[6]||(a[6]=a=>e.sendSolveReport(!0)),class:"answer-button my-button"},{default:(0,W.w5)((()=>[(0,W.Uk)("Grooming")])),_:1}),(0,W.Wm)(l,{color:"success",variant:"outline",onClick:a[7]||(a[7]=a=>e.sendSolveReport(!1)),class:"answer-button my-button"},{default:(0,W.w5)((()=>[(0,W.Uk)("Normal")])),_:1})]))],64)}function $e(e,a,s,t,o,n){const r=(0,W.up)("ChatSnippetComponent");return(0,W.wg)(!0),(0,W.iD)(W.HY,null,(0,W.Ko)(e.snippetIdxPairs,(e=>((0,W.wg)(),(0,W.iD)("div",{key:e[0].id},[(0,W.Wm)(r,{chatSnippet:e[0],arrayIdx:e[1]},null,8,["chatSnippet","arrayIdx"])])))),128)}const Xe={class:"message-text"},Ke={key:0,class:"floating-text-wrapper"},Je=["onClick"];function ea(e,a,s,t,o,n){const r=(0,W.up)("OnClickOutside");return(0,W.wg)(),(0,W.iD)(W.HY,null,[(0,W.Wm)(r,{onTrigger:e.hideOptions,onContextmenu:a[1]||(a[1]=(0,i.iM)((a=>e.handleRightClick()),["prevent"]))},{default:(0,W.w5)((()=>[(0,W._)("div",{id:"message-container",class:(0,X.C_)({"non-selectable-text":!0,"chat-snippet":!0,"chat-snippet-selected":e.stage>0}),onClick:a[0]||(a[0]=(...a)=>e.handleClickInside&&e.handleClickInside(...a))},[((0,W.wg)(!0),(0,W.iD)(W.HY,null,(0,W.Ko)(e.chatSnippet.messages,(e=>((0,W.wg)(),(0,W.iD)("div",{key:e.id,class:(0,X.C_)(e.sender)},[(0,W._)("p",Xe,(0,X.zw)(e.text),1)],2)))),128)),(0,W.Wm)(i.uT,null,{default:(0,W.w5)((()=>[e.selectSnippetStage&&e.stage>0?((0,W.wg)(),(0,W.iD)("div",Ke,(0,X.zw)(e.selectedStageName),1)):(0,W.kq)("",!0)])),_:1})],2)])),_:1},8,["onTrigger"]),(0,W.Wm)(i.uT,null,{default:(0,W.w5)((()=>[e.selectSnippetStage&&e.stageSelectorVisible?((0,W.wg)(),(0,W.iD)("div",{key:0,class:"non-selectable-text stages-list",style:(0,X.j5)({marginLeft:e.mousePosition.x+"px",top:e.mousePosition.y+"px"})},[((0,W.wg)(!0),(0,W.iD)(W.HY,null,(0,W.Ko)(e.STAGES,(a=>((0,W.wg)(),(0,W.iD)("div",{class:"stages-list-item",key:a.enumValue,onClick:s=>e.handleClickStage({name:a.name,enumVal:a.enumValue})},(0,X.zw)(e.debugMode?a.enumValue+": ":"")+(0,X.zw)(a.name),9,Je)))),128))],4)):(0,W.kq)("",!0)])),_:1})],64)}var aa=(0,W.aZ)({name:"ChatSnippetComponent",components:{OnClickOutside:Ge.vo},data(){return{stageSelectorVisible:!1,mousePosition:{x:0,y:0},STAGES:d}},props:{chatSnippet:I,arrayIdx:Number},computed:{selectSnippet(){return V.state.selectGroomingSnippets},selectSnippetStage(){return V.state.selectSnippetStages},stage(){return void 0!==this.arrayIdx&&V.state.snippetStagesSelected.length>this.arrayIdx?V.state.snippetStagesSelected[this.arrayIdx]:-1},selectedStageName(){let e="";return this.stage>0&&(e=d.filter((e=>e.enumValue===this.stage))[0].name),e},debugMode(){return V.getters.isDebugMode}},methods:{hideOptions(){this.stageSelectorVisible=!1},handleClickInside(e){try{const a=document.getElementById("message-container");if(null===a)throw new Error("Parent element was null");if(this.mousePosition.x=e.pageX-a.getBoundingClientRect().x,this.mousePosition.y=e.pageY+10,this.selectSnippet)if(this.selectSnippetStage)this.stageSelectorVisible=!this.stageSelectorVisible;else{const e=this.stage*o.Normal;V.commit("changeSnippetStageSelected",{idx:this.arrayIdx,stage:e})}}catch(a){x(`ChatSnippet.vue > handleClickInside >#ERROR: #ERROR: ${a}`,E.ERROR)}},handleClickStage(e){try{if(null===e.name||""===e.name)throw new Error("Stage name was null or empty.");if(null===e.enumVal||isNaN(e.enumVal))throw new Error("Value for the enum was null or not a numerical value");const a=Object.values(o).filter((e=>"number"===typeof e));if(!a.includes(e.enumVal))throw new Error("Value for the enum was not valid.");x(`ChatSnippet.vue > handleClickStage > ${e.name} ${e.enumVal}`,E.VERBOSE),V.commit("changeSnippetStageSelected",{idx:this.arrayIdx,stage:e.enumVal}),this.stageSelectorVisible=!1}catch(a){x(`ChatSnippet.vue > handleClickStage > #ERROR: #ERROR: ${a}`,E.ERROR)}},handleRightClick(){V.commit("changeSnippetStageSelected",{idx:this.arrayIdx,stage:m.NORMAL_SNIPPET_STAGE_VAL})}}});const sa=(0,fe.Z)(aa,[["render",ea],["__scopeId","data-v-15890388"]]);var ta=sa,oa=(0,W.aZ)({name:"ChatSnippetPageComponent",components:{ChatSnippetComponent:ta},props:{snippetIdxPairs:{type:Array}}});const na=(0,fe.Z)(oa,[["render",$e]]);var ra=na;const ia={class:"flex-center-aligned flex-column"};function la(e,a,s,t,o,n){const r=(0,W.up)("ProfileComponent");return(0,W.wg)(),(0,W.iD)("div",ia,[(0,W.Wm)(r,{user:e.user1},null,8,["user"]),(0,W.Wm)(r,{user:e.user2},null,8,["user"]),(0,W._)("p",null,(0,X.zw)(e.PROFILE_STRINGS.FRIENDSHIP_START)+" "+(0,X.zw)(e.friendshipTime[2])+" "+(0,X.zw)(e.PROFILE_STRINGS.FRIENDSHIP_YEARS)+" "+(0,X.zw)(e.friendshipTime[1])+" "+(0,X.zw)(e.PROFILE_STRINGS.FRIENDSHIP_MONTHS)+" "+(0,X.zw)(e.friendshipTime[0])+" "+(0,X.zw)(e.PROFILE_STRINGS.FRIENDSHIP_DAYS),1)])}const da={class:"profile-container"},ca=["src"],ua={class:"profile-info"};function ma(e,a,s,t,o,n){return(0,W.wg)(),(0,W.iD)("div",da,[(0,W._)("img",{src:e.user.avatar,alt:"User 1 profile picture",class:"my-avatar"},null,8,ca),(0,W._)("div",ua,[(0,W._)("p",null,(0,X.zw)(e.PROFILE_STRINGS.USERNAME)+" "+(0,X.zw)(e.user.username),1),(0,W._)("p",null,(0,X.zw)(e.PROFILE_STRINGS.ONLINE_AGE)+" "+(0,X.zw)(e.user.onlineAge),1),(0,W._)("p",null,(0,X.zw)(e.PROFILE_STRINGS.REAL_AGE)+" "+(0,X.zw)(e.user.realAge),1)])])}var pa=(0,W.aZ)({name:"ProfileComponent",data(){return{PROFILE_STRINGS:ye}},props:{user:O}});const ga=(0,fe.Z)(pa,[["render",ma],["__scopeId","data-v-e0cc0cc2"]]);var Ra=ga,ha=(0,W.aZ)({name:"ProfilesPageComponent",data(){return{PROFILE_STRINGS:ye}},components:{ProfileComponent:Ra},props:{user1:O,user2:O,friendshipTime:{type:Array}}});const Ea=(0,fe.Z)(ha,[["render",la],["__scopeId","data-v-580f8e33"]]);var xa=Ea;const ya=(0,W._)("h4",{style:{color:"red"}},"ERROR",-1);function Sa(e,a,s,t,o,n){const r=(0,W.up)("CModalBody"),i=(0,W.up)("CButton"),l=(0,W.up)("CModalFooter"),d=(0,W.up)("CModal");return(0,W.wg)(),(0,W.j4)(d,{alignment:"center",visible:e.visibility,onClose:a[0]||(a[0]=()=>{e.sendCloseModal()})},{default:(0,W.w5)((()=>[(0,W.Wm)(r,null,{default:(0,W.w5)((()=>[ya,(0,W.Uk)(" "+(0,X.zw)(e.message),1)])),_:1}),(0,W.Wm)(l,null,{default:(0,W.w5)((()=>[(0,W.Wm)(i,{color:"danger",variant:"outline",onClick:e.sendCloseModal,class:"my-button"},{default:(0,W.w5)((()=>[(0,W.Uk)("Cerrar")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["visible"])}var Ta=(0,W.aZ)({name:"ErrorModalComponent",components:{CModal:Te.Tk,CModalBody:Te.sD,CModalFooter:Te.Ym,CButton:Te.u5},props:{message:String,visibility:Boolean},methods:{sendCloseModal(){this.$emit("closeModal")}}});const va=(0,fe.Z)(Ta,[["render",Sa]]);var fa=va,ba=(0,W.aZ)({name:"ReportComponent",components:{ChatSnippetPageComponent:ra,ProfilesPageComponent:xa,ErrorModalComponent:fa,CButton:Te.u5},data(){return{currentPage:0,solveReportErrorModalVisible:!1,liveExampleVisible:!1,GENERAL_STRINGS:xe}},methods:{changePage(e){const a=this.numPages?this.numPages:1;this.currentPage=e?Math.min(this.currentPage+1,a-1):Math.max(this.currentPage-1,0)},sendSolveReport(e){x(`ChatReport.vue > sendSolveReport > Grooming: ${e}`,E.VERBOSE);try{!e&&V.getters.aSnippetIsSelected?this.solveReportErrorModalVisible=!0:(this.$emit("solveReport",e),this.currentPage=c.ZERO)}catch(a){x(`ChatReport.vue > sendSolveReport > ERROR: Could not emit event. #ERROR: ${a}`,E.ERROR)}},handleCloseModal(){this.solveReportErrorModalVisible=!1}},computed:{showReportButtonsContainerInside(){return window.innerHeight>=850},snippetIdxPairsPage1(){const e=V.state.curReport;return e&&e.snippets?e.snippets.slice(c.ZERO,p.NUM_SNIPPETS_PER_PAGE).map(((e,a)=>[e,a])):[]},snippetIdxPairsPage2(){const e=V.state.curReport;return e&&e.snippets&&e.snippets.length>p.NUM_SNIPPETS_PER_PAGE?e.snippets.slice(p.NUM_SNIPPETS_PER_PAGE,2*p.NUM_SNIPPETS_PER_PAGE).map(((e,a)=>[e,a+p.NUM_SNIPPETS_PER_PAGE])):[]},numPages(){let e=1;const a=V.state.curReport;return a&&a.snippets.length>0&&(e=a.snippets.length>p.NUM_SNIPPETS_PER_PAGE?p.NUM_REPORT_PAGES_MULTI:p.NUM_REPORT_PAGES_SINGLE),e},user1(){const e=V.state.curReport;return e&&e.user1Profile?e.user1Profile:void 0},user2(){const e=V.state.curReport;return e&&e.user2Profile?e.user2Profile:void 0},friendshipTime(){const e=V.state.curReport;return e&&e.friendshipTime?e.friendshipTime:void 0}}});const Aa=(0,fe.Z)(ba,[["render",We],["__scopeId","data-v-5a154158"]]);var Na=Aa;const _a={class:"non-selectable-text"},Ia={class:"circle time-circle"},Ca={class:"medium-big-text semi-bold"},Oa=["onClick"];function qa(e,a,s,t,o,n){const r=(0,W.up)("CCardBody"),i=(0,W.up)("CCard");return(0,W.wg)(),(0,W.j4)(i,{class:"text-center card"},{default:(0,W.w5)((()=>[(0,W.Wm)(r,{class:"card-body"},{default:(0,W.w5)((()=>[(0,W._)("div",_a,[(0,W._)("div",Ia,(0,X.zw)(e.timeRemaining),1),(0,W._)("p",Ca,(0,X.zw)(e.question),1),((0,W.wg)(!0),(0,W.iD)(W.HY,null,(0,W.Ko)(e.numOptions,(a=>((0,W.wg)(),(0,W.iD)("div",{key:a},[(0,W._)("div",{class:"my-button card-button",onClick:s=>e.sendSolveDailyQuiz(a-1)},(0,X.zw)(e.options[a-1]),9,Oa)])))),128))])])),_:1})])),_:1})}var Ua=(0,W.aZ)({name:"DailyQuizCardComponent",components:{CCard:Te.xH,CCardBody:Te.sl},data(){return{timeRemaining:h.TIME_TO_SOLVE,active:!1,GENERAL_STRINGS:xe}},mounted(){this.active=!0,this.timeRemaining=h.TIME_TO_SOLVE,this.countdownTimer()},unmounted(){this.active=!1},methods:{countdownTimer(){this.active&&(this.timeRemaining>0?setTimeout((()=>{this.timeRemaining-=1,this.countdownTimer()}),1e3):this.sendSolveDailyQuiz(c.NEG))},sendSolveDailyQuiz(e){x(`DailyQuizCard.vue > sendSolveDailyQuiz > selectedOption: ${e}`,E.VERBOSE);try{this.$emit("solveDailyQuiz",e),this.timeRemaining=h.TIME_TO_SOLVE}catch(a){x(`ChatReport.vue > sendSolveReport > ERROR: Could not emit event. #ERROR: ${a}`,E.ERROR)}}},computed:{question(){const e=V.state.curDailyQuiz;return e?e.question:""},options(){const e=V.state.curDailyQuiz;return e?e.options:[]},numOptions(){const e=V.state.curDailyQuiz;return e?e.numOptions:c.ZERO}}});const Pa=(0,fe.Z)(Ua,[["render",qa],["__scopeId","data-v-0a4a1e08"]]);var Ma=Pa;const wa=e=>((0,W.dD)("data-v-1bd9fea8"),e=e(),(0,W.Cn)(),e),Ga={class:"non-selectable-text"},Da=wa((()=>(0,W._)("p",{class:"big-text"},"Tu respuesta fue:",-1))),La={class:"main-info"},za={key:0,class:"answer correct"},ka={key:1,class:"answer partially-correct"},Za={key:2},ja={class:"answer incorrect"},Ha={key:3,class:"medium-big-text accepts-new-line"},Fa={class:"big-text bold accepts-new-line"},Qa={class:"medium-big-text accepts-new-line"};function Ya(e,a,s,t,o,n){const r=(0,W.up)("CCardBody"),i=(0,W.up)("CCard");return(0,W.wg)(),(0,W.j4)(i,{class:"text-center card result-card"},{default:(0,W.w5)((()=>[(0,W.Wm)(r,{class:"card-body"},{default:(0,W.w5)((()=>[(0,W._)("div",Ga,[Da,(0,W._)("div",La,[e.correctness===e.ECorrectness.CORRECT?((0,W.wg)(),(0,W.iD)("p",za,(0,X.zw)(e.RESULT_CARD_STRINGS.CORRECT),1)):e.correctness===e.ECorrectness.PARTIALLY_CORRECT?((0,W.wg)(),(0,W.iD)("p",ka,(0,X.zw)(e.RESULT_CARD_STRINGS.PARTIALLY_CORRECT),1)):e.correctness===e.ECorrectness.INCORRECT?((0,W.wg)(),(0,W.iD)("div",Za,[(0,W._)("p",ja,(0,X.zw)(e.RESULT_CARD_STRINGS.INCORRECT),1)])):(0,W.kq)("",!0),e.isReportResult?(0,W.kq)("",!0):((0,W.wg)(),(0,W.iD)("p",Ha,(0,X.zw)(e.explanation),1)),(0,W._)("p",Fa,(0,X.zw)(e.newScoreOrMultiplierMessage),1)]),(0,W._)("p",Qa,(0,X.zw)(e.message),1),(0,W._)("div",{class:"my-button card-button",onClick:a[0]||(a[0]=(...a)=>e.handleContinue&&e.handleContinue(...a))},(0,X.zw)(e.RESULT_CARD_STRINGS.CONTINUE),1)])])),_:1})])),_:1})}var Ba=(0,W.aZ)({name:"ResultCardComponent",data(){return{ECorrectness:t,RESULT_CARD_STRINGS:Se}},components:{CCard:Te.xH,CCardBody:Te.sl},props:{isReportResult:Boolean,correctness:Number,pointsGotten:Number},methods:{handleContinue(){V.commit("changeStage",this.isReportResult?r.REPORT:r.NARRATION)}},computed:{message(){let e="";try{e=this.isReportResult?this.correctness===t.CORRECT?Se.REPORT_CORRECT.replace(Se.NUM_PLACEHOLDER,this.pointsGotten?this.pointsGotten.toString():"0"):this.correctness===t.PARTIALLY_CORRECT?Se.REPORT_P_CORRECT.replace(Se.NUM_PLACEHOLDER,this.pointsGotten?this.pointsGotten.toString():"0"):Se.REPORT_INCORRECT:this.isFirstDay?"":this.correctness===t.CORRECT?Se.QUIZ_CORRECT:Se.QUIZ_INCORRECT}catch(a){x("ResultCard.vue > Computed - message > Error computing the message, ERROR: "+a,E.ERROR)}return e},newScoreOrMultiplierMessage(){let e="";try{e=this.isReportResult?Se.NEW_SCORE.replace(Se.NUM_PLACEHOLDER,V.state.points.toString()):Se.NEW_MULTIPLIER.replace(Se.NUM_PLACEHOLDER,V.state.multiplier.toString())}catch(a){x("ResultCard.vue > Computed - newScoreOrMultiplierMessage > ERROR: "+a,E.ERROR)}return e},explanation(){let e="";try{if(e=V.state.curDailyQuiz?V.state.curDailyQuiz?.explanation:"",""===e)throw new Error("Could not get the explanation for the correct answer to the daily quiz.")}catch(a){x("ResultCard.vue > Computed - correctAnswer > ERROR: "+a,E.ERROR)}return e},isFirstDay(){return V.getters.isFirstDay}}});const Va=(0,fe.Z)(Ba,[["render",Ya],["__scopeId","data-v-1bd9fea8"]]);var Wa=Va,$a=(0,W.aZ)({name:"GameComponent",components:{TitleScreenComponent:Ae,NarrativeScreenComponent:ze,ReportComponent:Na,DailyQuizCardComponent:Ma,ResultCardComponent:Wa},data(){return{pointsGotten:c.NEG,correctness:t.INCORRECT,EGameStage:r}},methods:{handleSolveReport(e){const a=V.state;let s=c.ZERO;a.curReport&&(s=a.curReport.getAnswerResult(e,a.selectGroomingSnippets,a.selectSnippetStages,a.snippetStagesSelected)),s===c.ONE?this.correctness=t.CORRECT:s>c.ZERO?this.correctness=t.PARTIALLY_CORRECT:this.correctness=t.INCORRECT,s=V.state.multiplier*p.POINTS_PER_REPORT*s,this.pointsGotten=s,V.commit("addScore",s),V.commit("changeStage",r.RESULT)},handleSolveDailyQuiz(e){const a=V.state;let s=!1;a.curDailyQuiz&&(s=a.curDailyQuiz.getAnswerResult(e)),this.correctness=s?t.CORRECT:t.INCORRECT,this.pointsGotten=c.NEG,V.commit("changeMultiplier",s),V.commit("changeStage",r.RESULT)}},created(){V.commit("initialize")},computed:{pointsText(){return xe.POINTS_INFO.replace(xe.NUM_PLACEHOLDER,V.state.points.toString())},reportsRemainingText(){const e=V.state.curDay.numReports,a=V.state.curReportIdx;let s=xe.REPORTS_REMAINING.replace(xe.NUM_PLACEHOLDER,a.toString());return s.replace(xe.NUM_PLACEHOLDER_2,e.toString())},isGrooming(){return!!V.state.curReport&&V.state.curReport.isGrooming},curGameStage(){return V.state.visibleGameStage}}});const Xa=(0,fe.Z)($a,[["render",se],["__scopeId","data-v-93ecc4e6"]]);var Ka=Xa,Ja=(0,W.aZ)({name:"App",components:{GameComponent:Ka}});const es=(0,fe.Z)(Ja,[["render",$]]);var as=es;const ss=(0,i.ri)(as);ss.use(V),ss.mount("#app")}},a={};function s(t){var o=a[t];if(void 0!==o)return o.exports;var n=a[t]={exports:{}};return e[t].call(n.exports,n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(a,t,o,n){if(!t){var r=1/0;for(c=0;c<e.length;c++){t=e[c][0],o=e[c][1],n=e[c][2];for(var i=!0,l=0;l<t.length;l++)(!1&n||r>=n)&&Object.keys(s.O).every((function(e){return s.O[e](t[l])}))?t.splice(l--,1):(i=!1,n<r&&(r=n));if(i){e.splice(c--,1);var d=o();void 0!==d&&(a=d)}}return a}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[t,o,n]}}(),function(){s.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(a,{a:a}),a}}(),function(){s.d=function(e,a){for(var t in a)s.o(a,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={143:0};s.O.j=function(a){return 0===e[a]};var a=function(a,t){var o,n,r=t[0],i=t[1],l=t[2],d=0;if(r.some((function(a){return 0!==e[a]}))){for(o in i)s.o(i,o)&&(s.m[o]=i[o]);if(l)var c=l(s)}for(a&&a(t);d<r.length;d++)n=r[d],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(c)},t=self["webpackChunkgrooming_minigame"]=self["webpackChunkgrooming_minigame"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=s.O(void 0,[998],(function(){return s(8810)}));t=s.O(t)})();
//# sourceMappingURL=app.093e32df.js.map