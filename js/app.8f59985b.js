(function(){"use strict";var e={4380:function(e,t,s){var a,r,n,o,i=s(9242),d=s(7139);(function(e){e[e["INCORRECT"]=0]="INCORRECT",e[e["PARTIALLY_CORRECT"]=.5]="PARTIALLY_CORRECT",e[e["CORRECT"]=1]="CORRECT"})(a||(a={})),function(e){e[e["Normal"]=-1]="Normal",e[e["Comienzo de la amistad y relación"]=1]="Comienzo de la amistad y relación",e[e["Evaluación de riesgo"]=3]="Evaluación de riesgo",e[e["Exclusividad"]=4]="Exclusividad",e[e["Mitigación de daños"]=7]="Mitigación de daños",e[e["Petición de fotos indecentes"]=9]="Petición de fotos indecentes"}(r||(r={})),function(e){e[e["FRIENDSHIP"]=0]="FRIENDSHIP",e[e["RISK_ASSESSMENT"]=1]="RISK_ASSESSMENT",e[e["EXCLUSIVITY"]=2]="EXCLUSIVITY",e[e["DAMAGE_LIMITATION"]=3]="DAMAGE_LIMITATION",e[e["PICTURE_ASKING"]=4]="PICTURE_ASKING"}(n||(n={})),function(e){e[e["GAME_START"]=-1]="GAME_START",e[e["NARRATION"]=0]="NARRATION",e[e["REPORT"]=1]="REPORT",e[e["DAILY_QUIZ"]=2]="DAILY_QUIZ",e[e["RESULT"]=3]="RESULT",e[e["GAME_FINISHED"]=4]="GAME_FINISHED"}(o||(o={}));const l={NEG:-1,ZERO:0,HALF:.5,ONE:1},c={INITIAL_MULTIPLIER:1.5,NUM_PLAYING_STAGES:4},u={NORMAL_SNIPPET_STAGE_VAL:-1,NUM_GROOMING_STAGES:5},p={NUM_REPORT_PAGES_SINGLE:2,NUM_REPORT_PAGES_MULTI:3,NUM_SNIPPETS_PER_PAGE:2,MIN_SNIPPETS_PER_REPORT:2,MAX_SNIPPETS_PER_REPORT:4,POINTS_PER_REPORT:600},m={PLACEHOLDER_URL:"https://t4.ftcdn.net/jpg/03/49/49/79/360_F_349497933_Ly4im8BDmHLaLzgyKg2f2yZOvJjBtlw5.webp",PLACEHOLDER_USERNAME:"username",MIN_AGE_TEENAGER:13,MAX_AGE_TEENAGER:17,MAX_AGE_DIFFERENCE_TEENAGER:3,MIN_AGE_GROOMER:27,MAX_AGE_GROOMER:50,MIN_AGE_FAKE:15},g={MIN_YEARS:1,MAX_YEARS:5,MIN_MONTHS:0,MAX_MONTHS:11,MIN_DAYS:1,MAX_DAYS:30},R={TIME_TO_SOLVE:20,SUCCESS_MULTIPLIER_INCREASE:.5,SUCCESS_MULTIPLIER_DEDUCTION:.1},h={INFO:0,VERBOSE:1,ERROR:2};function E(e,t){switch(t){case h.INFO:console.info(e);break;case h.VERBOSE:console.debug(e);break;case h.ERROR:console.error(e);break}}var S=s(7327),x=(s(560),JSON.parse('[{"numDay":1,"numReports":3,"selectSnippets":true,"selectSnippetReason":true,"probabilities":[0.5]},{"numDay":2,"numReports":2,"selectSnippets":false,"selectSnippetReason":false,"probabilities":[0.5]}]'));function y(e,t){return t?t+~~(Math.random()*(e-t+1)):~~(Math.random()*(e+1))}function U(e,t){return t?t+~~(Math.random()*(e-t)):~~(Math.random()*e)}function O(e){return Math.random()>e}var v=JSON.parse('[{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User1","text":"Q sueles hacer en tu tiempo libre??!"},{"sender":"User2","text":"Normalmente quedo con mis amigos, o juego con ellos online."},{"sender":"User1","text":"Y tienes muchos amigos?"},{"sender":"User2","text":"Normal, supongo"}]},{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User2","text":"Pues aquí estoy, haciendome la comida"},{"sender":"User1","text":"Y tus padres?"},{"sender":"User2","text":"Trabajando"},{"sender":"User1","text":"Y no tienes a nadie más?"},{"sender":"User2","text":"Nop, soy hija única"}]},{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User1","text":"Eyy, soy el de la partida anterior. Jugamos juntos? "},{"sender":"User2","text":"Uff no s"},{"sender":"User1","text":"Porfaa, te regalo una skin si quieres"},{"sender":"User2","text":"Bueno venga"}]},{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User1","text":"Cuántos años tienes??"},{"sender":"User2","text":"15, tu?"},{"sender":"User1","text":"En serio? Por tu madurez pensé que teníamos la misma edad. Yo tengo 22"},{"sender":"User2","text":"A si?? Jaja graciass"}]},{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User2","text":"Perdón por no contestar, no me encontraba muy bien 😔​😔"},{"sender":"User1","text":"Estás bien?"},{"sender":"User2","text":"Si, es q me he peleado con mis padres"},{"sender":"User1","text":"Bueno no te preocupes, yo estoy contigo"}]},{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User2","text":"Y tú q sueles hacer cuando estás libre?"},{"sender":"User1","text":"No mucho, es q en la escuela se meten conmigo"},{"sender":"User1","text":"Ojala ser como tú, seguro que tienes muchos amigos 😔​😔​"},{"sender":"User2","text":"Jo que mal"},{"sender":"User2","text":"No tengo tantos la vd, pero con los que me llevo son muy majos conmigo"}]},{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User1","text":"Yo esq soy mucho de quedarme en casa sabes, soy bastante introvertido"},{"sender":"User1","text":"Tu eres más introvertido o extrovertido?"},{"sender":"User2","text":"Pues como tu, estar con mucha gente me estresa"},{"sender":"User2","text":"No se como lo hace la gente que tiene como 100 amigos, que pereza 😪​😪​"},{"sender":"User1","text":"Real"}]},{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User2","text":"Bueno te dejo que tengo atletismo"},{"sender":"User1","text":"También haces atletismo?"},{"sender":"User1","text":"Si que haces extraescolares no? No tendrás tiempo para mí :("},{"sender":"User2","text":"Bueno, es lo que hay no? jaj"}]},{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User1","text":"Has tenido muchas novias?"},{"sender":"User2","text":"Noo, solo 1, pero no duramos casi nada porque según ella quería centrarse en sus estudios y no tenía tiempo para mí"},{"sender":"User1","text":"Bueno, no te preocupes, yo te puedo dar todo mi tiempo jeje 😉​😉​"}]},{"arrayIdx":0,"stage":1,"Messages":[{"sender":"User1","text":"Te gustan los chicos o las chicas a ti?"},{"sender":"User2","text":"Aun no lo sé"},{"sender":"User2","text":"Estoy un poco confundido con ese tema la vd"},{"sender":"User1","text":"A mi me gustan los dos, yo te puedo ayudar si quieres"}]},{"arrayIdx":0,"stage":3,"Messages":[{"sender":"User1","text":"Tus padres son muy estrictos?"},{"sender":"User2","text":"Un poco, les tengo que mandar mensajes siempre que salgo"},{"sender":"User1","text":"Y te revisan el móvil?"},{"sender":"User2","text":"A, eso no, que va"}]},{"arrayIdx":1,"stage":3,"Messages":[{"sender":"User1","text":"Me escribes desde el móvil o de donde?"},{"sender":"User2","text":"Ahora mismo desde el pc"},{"sender":"User1","text":"Es tuyo propio?"},{"sender":"User2","text":"Noo, es de mi padre pero me deja usarlo cuando acabo los debere"},{"sender":"User1","text":"Ahhh"}]},{"arrayIdx":1,"stage":3,"Messages":[{"sender":"User2","text":"Bua ayer le conté a mi hermana lo que me dijiste y se partió de risa jajaja"},{"sender":"User1","text":"Le sueles contar todo lo que hablamos a tu hermana?"},{"sender":"User2","text":"Noo, fue solo esta vez. Poor??"},{"sender":"User1","text":"Noo, por nada"}]},{"arrayIdx":1,"stage":3,"Messages":[{"sender":"User2","text":"Un segundo que pongo el portátil a cargar"},{"sender":"User1","text":"No tienes ningún enchufe cerca? Donde pones el portátil?"},{"sender":"User2","text":"Estaba en el sofa del comedor y no llega el cable"},{"sender":"User2","text":"Estoy desde la habitación ahora"}]},{"arrayIdx":1,"stage":3,"Messages":[{"sender":"User2","text":"Perdón, es q mi hermano me había cogido el móvil"},{"sender":"User1","text":"Te suele robar el móvil tu hermano?"},{"sender":"User2","text":"Suele? No para el tio"},{"sender":"User2","text":"Le va demasiado el chisme, es un cotilla"}]},{"arrayIdx":1,"stage":3,"Messages":[{"sender":"User1","text":"Tus amigas y tu también os compartís capturas de pantalla?"},{"sender":"User2","text":"A veces"},{"sender":"User2","text":"Por ejemplo si hablamos con alguien que nos gusta y eso"},{"sender":"User1","text":"Somos iguales entonces, jaja"}]},{"arrayIdx":1,"stage":3,"Messages":[{"sender":"User1","text":"Ayer le pasé una captura de pantalla de un chat con mi amigo Pablo a Alex y se enfadó muchísimo"},{"sender":"User1","text":"Ni que la captura fuera de su chat!"},{"sender":"User2","text":"Bueno es normal, yo no paso capturas porque a mi tampoco me gustaría que fueran pasando lo que hablo con mis amigas por ahí sbs."}]},{"arrayIdx":1,"stage":3,"Messages":[{"sender":"User1","text":"Dios mis amigas no paran de molestarme para que les diga con quien hablo"},{"sender":"User1","text":"No entienden lo q significa privacidad o q?"},{"sender":"User2","text":"Q reaaaaal, mis amigas también son así"},{"sender":"User2","text":"Nunca les enseño nada, eso les pasa por pesadas"}]},{"arrayIdx":1,"stage":3,"Messages":[{"sender":"User2","text":"Espera un momento, q estoy en clase y la profesora está mirando para acá"},{"sender":"User1","text":"Cuidado no te vayan a confiscar el móvil, algunos incluso te hacen leer los Messages"},{"sender":"User2","text":"A, en mi insti te lo confiscan, pero no te hacen leer nada"},{"sender":"User2","text":"Luego al final del día lo recoges en secretaría y ya"}]},{"arrayIdx":1,"stage":3,"Messages":[{"sender":"User1","text":"El pc de donde me escribes, lo tienes en tu cuarto?"},{"sender":"User2","text":"Noo, es de mi hermano"},{"sender":"User1","text":"Aaah, cada uno tiene su cuenta en el ordenador no?"},{"sender":"User2","text":"Noo, compartimos el mismo usuario"},{"sender":"User2","text":"Luego cada uno se mete a su perfil de chrome"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User1","text":"Buenos diaas"},{"sender":"User1","text":"Como está mi chica preferida?? ❤️​❤️"},{"sender":"User2","text":"Bieeen, y tu?🥰"},{"sender":"User1","text":"Bieen, te he echado de menos"},{"sender":"User2","text":"Y yo a ti 🥰"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User2","text":"Tio mi padre"},{"sender":"User2","text":"Le cuento q se meten conmigo en la escuela y me llama exagerada 😒😒"},{"sender":"User1","text":"En fin 😒😒"},{"sender":"User1","text":"Pero bueno no te preocupes, yo siempre estaré aquí para tí"},{"sender":"User1","text":"No necesitas a nadie más"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User1","text":"Ojalá poder vernos en la vida real"},{"sender":"User2","text":"Ojalá, las relaciones a distancia son muy difíciles 😔"},{"sender":"User1","text":"Tendremos que conformarnos con hablarnos por aquí y pasarnos fotos 😔❤️❤️"},{"sender":"User2","text":"😔❤️❤️"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User2","text":"Muchas gracias por escucharme, ya me siento mucho mejor 🥰🥰"},{"sender":"User1","text":"De nada, para eso somos novios 😌😌"},{"sender":"User1","text":"Ya sabes que soy la única en la q puedes confiar "},{"sender":"User1","text":"Los demás no valen la pena"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User1","text":"Hola???"},{"sender":"User1","text":"Por q no contestas? Estás con otra?"},{"sender":"User2","text":"Qué? No!! Estaba en llamada con Juan, no estaba mirando el móvil"},{"sender":"User1","text":"Si te hablo contéstame, esto no lo vuelvas a hacer"},{"sender":"User1","text":"No, no lo haré, perdón 😔"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User2","text":"[Foto]"},{"sender":"User1","text":"Qué guapa es mi novia, te queda genial esa falda 🥰🥰"},{"sender":"User1","text":"Aunque quizás una más corta te quedaría mejor 😝"},{"sender":"User2","text":"😳😳😳"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User1","text":"Estaba teniendo muy mal día, pero el hablar contigo me ha alegrado el día 😍😍"},{"sender":"User2","text":"😳😳😳"},{"sender":"User2","text":"Tu también alegras mis días jo 😭😭❤️"},{"sender":"User1","text":"❤️❤️"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User1","text":"Buenas nochess"},{"sender":"User1","text":"Ojalá soñar contigo ❤️❤️"},{"sender":"User2","text":"Ojalá soñar contigo también jeje  🙈🙈❤️❤️"},{"sender":"User2","text":"Buenas nochess 😘"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User2","text":"Perdón, estaba jugando con Marta al GoG"},{"sender":"User1","text":"Pasas demasiado tiempo con ella, me tienes abandonado 😔💔"},{"sender":"User1","text":"Seguro que ya no te gusto"},{"sender":"User2","text":"Claro que me sigues gustandoo 🥺🥺"},{"sender":"User2","text":"Mañana quedamos para llamar"}]},{"arrayIdx":2,"stage":4,"Messages":[{"sender":"User1","text":"Si es algo que te molesta creo que deberías hablarlo cara a cara con Carlos para aclarar cualquier malentendido."},{"sender":"User2","text":"Mmm, supongo que sí"},{"sender":"User2","text":"Muchas gracias por aconsejarme, siempre puedo confiar en ti 😌😌"},{"sender":"User1","text":"Claro que sí, para algo somos mejores amigos 😉😉❤️"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User1","text":"Oye, lo que hablamos tú y yo no se lo digas a nadie eh, es secreto"},{"sender":"User2","text":"Noo, no te preocupes"},{"sender":"User1","text":"Así me gusta"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User2","text":"Tio"},{"sender":"User2","text":"No me paran de preguntar mis padres que con quien hablo"},{"sender":"User1","text":"Buf, que pesados"},{"sender":"User1","text":"Tu ni caso, no es asunto suyo"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User2","text":"Oye, por que no le puedo contar a mis amigas que somos novios?"},{"sender":"User1","text":"La gente es muy cerrada de mente"},{"sender":"User1","text":"Nos mirarian mal, no nos entenderian"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User2","text":"Te puedo llamar?"},{"sender":"User1","text":"Hay alguien en tu casa?"},{"sender":"User2","text":"Mi hermana, pero está estudiando con los cascos puestos"},{"sender":"User2","text":"No nos escuchará"},{"sender":"User1","text":"Vale"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User1","text":"Has entrado a Toother?"},{"sender":"User2","text":"Noo, que ha pasado?"},{"sender":"User1","text":"Han cancelado a Rabias por hablar con una menor, ni que fuera un delito"},{"sender":"User1","text":"El amor no tiene edad"},{"sender":"User2","text":"Bua pues no me había enterado, que injusto"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User1","text":"No hay nadie que me caiga más mal que los chivatos"},{"sender":"User1","text":"Menos mal que me enamoré de ti, tu si que sabes guardar secretos 🥰"},{"sender":"User2","text":"😎​😎​😎​"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User1","text":"Recuerda no contarle a nadie que estamos saliendo"},{"sender":"User1","text":"Como me entere de que se lo cuentas a alguien…"},{"sender":"User1","text":"Ya sabes lo que puede pasar, no?"},{"sender":"User2","text":"Lo sé lo sé, no se lo contaré a nadie lo juro"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User2","text":"Bua, le estaba contando a mi amiga lo que hablabamos ayer y no se lo creía"},{"sender":"User1","text":"Se lo has dicho a tu amiga????"},{"sender":"User1","text":"Sabes en el lio que me puedo meter si se enteran de q estamos juntos??"},{"sender":"User2","text":"Perdon, no lo sabía"},{"sender":"User2","text":"No lo volveré a hacer"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User2","text":"Uff, no te conté"},{"sender":"User2","text":"Ayer se pusieron muy pesados mis padres con revisarme el móvil, pero al final pude escaquearme"},{"sender":"User1","text":"Ooooleee"},{"sender":"User1","text":"Luego te compro algo en el GoG"}]},{"arrayIdx":3,"stage":7,"Messages":[{"sender":"User1","text":"Recuerda q esto es un secreto entre los dos 😉"},{"sender":"User2","text":"Y por q tiene q ser secreto?"},{"sender":"User1","text":"Así es más emocionante, no lo crees?"},{"sender":"User2","text":"Supongo que sí, jeje"}]},{"arrayIdx":4,"stage":9,"Messages":[{"sender":"User1","text":"Me pasas una foto tuya??"},{"sender":"User2","text":"Uff, no sé…"},{"sender":"User1","text":"Venga vaaa, te paso yo una mía"},{"sender":"User2","text":"Bueno, vale"}]},{"arrayIdx":4,"stage":9,"Messages":[{"sender":"User1","text":"No me creo que tengas solo 16, seguro que tienes 20"},{"sender":"User2","text":"Que pesao"},{"sender":"User2","text":"Que si que tengo 16"},{"sender":"User1","text":"A ver, pasame una foto para demostrarlo"}]},{"arrayIdx":4,"stage":9,"Messages":[{"sender":"User1","text":"Eyy, que haces??"},{"sender":"User2","text":"Preparándome para salir"},{"sender":"User1","text":"A donde?? Qué te vas a poner?"},{"sender":"User2","text":"Aún no me decido"},{"sender":"User1","text":"A ver, pásame una foto de las opciones."}]}]'),_=JSON.parse('[{"stage":-1,"Messages":[{"sender":"User1","text":"Eyy"},{"sender":"User1","text":"Te echas un vamogant?"},{"sender":"User2","text":"okk"},{"sender":"User1","text":"Dc?"},{"sender":"User2","text":"5 min y voy"}]},{"stage":-1,"Messages":[{"sender":"User1","text":"Te has visto la serie de Bugman?"},{"sender":"User2","text":"Siii, esta muy chulaa"},{"sender":"User1","text":"A q siiiii, cual es tu personaje fav??"},{"sender":"User2","text":"Sarah, obviamente"},{"sender":"User1","text":"Pues a mi me cae fatal tu 💀💀"}]},{"stage":-1,"Messages":[{"sender":"User1","text":"Q haces normalmente en tu tiempo libre??"},{"sender":"User2","text":"Normalmente juego con mis amigos por discord"},{"sender":"User2","text":"Tu?"},{"sender":"User1","text":"Yo tambien, nos agregamos??"},{"sender":"User2","text":"Valee"}]},{"stage":-1,"Messages":[{"sender":"User2","text":"Pasame las fotos de hoy pls"},{"sender":"User1","text":"Foto"},{"sender":"User2","text":"Ty"}]},{"stage":-1,"Messages":[{"sender":"User1","text":"Que tal el concierto de Taylor???"},{"sender":"User2","text":"Bua fue una pasada 😭😭"},{"sender":"User2","text":"Vaya reina"},{"sender":"User1","text":"Ya me pasaras los videos jeje"},{"sender":"User2","text":"Siii💖💖 "}]},{"stage":-1,"Messages":[{"sender":"User1","text":"Al final quedamos mañana??"},{"sender":"User2","text":"Siii, viene Alex tmb, te importa??"},{"sender":"User1","text":"Noo, pero no he hablado casi con el"},{"sender":"User2","text":"Es muy majo, ya verás como te cae bien"}]},{"stage":-1,"Messages":[{"sender":"User2","text":"Oye, el boss este del Wicked Inhabitant como se mata? "},{"sender":"User1","text":"Primero tienes q pillar la escopeta del almacén de abajo"},{"sender":"User1","text":"Luego tienes q distraerlo con la alarma y pillarlo por detrás"},{"sender":"User2","text":"Vale mercii"}]},{"stage":-1,"Messages":[{"sender":"User2","text":"Se han vuelto a meter conmigo hoy"},{"sender":"User2","text":"Se lo he dicho a los profesores pero no hacen nada"},{"sender":"User2","text":"No se que hacer"},{"sender":"User1","text":"Has intentado hablar con tus padres? Deberías contárselo."}]},{"stage":-1,"Messages":[{"sender":"User1","text":"Hablaste con la tutora al final??"},{"sender":"User2","text":"Sii, este jueves tengo una reunión con ella y mis padres"},{"sender":"User2","text":"Muchas gracias, no sé si habría tenido el valor de contarlo si no fuera por ti"},{"sender":"User1","text":"De nada hombree. Estas cosas hay que hablarlas, porque si no empeoran sabes"}]},{"stage":-1,"Messages":[{"sender":"User2","text":"Perdon q te de la chapa"},{"sender":"User2","text":"Pero eres la única persona en la que puedo confiar"},{"sender":"User1","text":"Deberías intentar buscar consejo de algún adulto de tu alrededor"},{"sender":"User1","text":"Si no te puedo pasar links con organizaciones, seguro que te ayudan"},{"sender":"User2","text":"Lo agradecería"}]},{"stage":-1,"Messages":[{"sender":"User2","text":"Has visto lo de la cantante Alex Smith?"},{"sender":"User2","text":"La gente no para de mandarle odio, aun cuando solo se lleva 4 años con su pareja"},{"sender":"User1","text":"Aunque solo fueran 4 años, cuando se conocieron el chico era menor, normal que se le tiren encima"},{"sender":"User1","text":"Hay mucha diferencia de 22 a 18 años"}]},{"stage":-1,"Messages":[{"sender":"User1","text":"Qué tal el primer día de instituto?"},{"sender":"User2","text":"Tenía miedo de quedarme sola el primer día de insti, pero he conocido a una chica llamada Núria 😁 "},{"sender":"User1","text":"Me alegroo, seguro que os haceis amigas 😌"},{"sender":"User2","text":"Sii, eso espero 😊 😊"}]}]');class I{constructor(e,t,s){(0,S.Z)(this,"id",void 0),(0,S.Z)(this,"stage",void 0),(0,S.Z)(this,"messages",void 0),this.id=e,this.stage=t,this.messages=s}getAnswerResult(e,t){let s=a.INCORRECT;try{t?(E("Snippet.ts > getAnswerResult > check selected",h.VERBOSE),this.stage*e>0&&(s=this.stage===e?a.CORRECT:a.PARTIALLY_CORRECT)):this.stage*e>l.ZERO&&(s=a.CORRECT)}catch(r){E(`Snippet.ts > getAnswerResult > Could not compare answers for the chat snippet. #ERROR: ${r}`,h.ERROR)}return s}}var f=I;class C{constructor(e,t,s,a){(0,S.Z)(this,"avatar",void 0),(0,S.Z)(this,"username",void 0),(0,S.Z)(this,"onlineAge",void 0),(0,S.Z)(this,"realAge",void 0),this.avatar=e,this.username=t,this.onlineAge=s,this.realAge=a}}var M=C;class N{constructor(e,t,s){(0,S.Z)(this,"id",void 0),(0,S.Z)(this,"sender",void 0),(0,S.Z)(this,"text",void 0),this.id=e,this.sender=t,this.text=s}}var T=N;class P{constructor(e,t,s,a,r){(0,S.Z)(this,"isGrooming",void 0),(0,S.Z)(this,"user1Profile",void 0),(0,S.Z)(this,"user2Profile",void 0),(0,S.Z)(this,"friendshipTime",void 0),(0,S.Z)(this,"snippets",void 0),this.isGrooming=e,this.user1Profile=t,this.user2Profile=s,this.friendshipTime=a,this.snippets=r||[]}getAnswerResult(e,t,s,r){let n=l.ZERO;try{if(this.isGrooming===e)if(n+=a.CORRECT,e&&t&&this.snippets){for(let e=0;e<this.snippets.length;e++){const t=this.snippets[e],a=r[e];n+=t.getAnswerResult(a,s)}n/=this.snippets.length+l.ZERO}else n=l.ONE}catch(o){console.error("Report.ts solveAndGetScore > ERROR: Error trying to get the points resulting of solving the report.")}return n}}var A=P;class w{constructor(){(0,S.Z)(this,"groomingSnippets",void 0),(0,S.Z)(this,"numGroomingSnippets",void 0),(0,S.Z)(this,"normalSnippets",void 0),(0,S.Z)(this,"numNormalSnippets",void 0),this.groomingSnippets=[];for(let t=l.ZERO;t<u.NUM_GROOMING_STAGES;t++)this.groomingSnippets.push([]);const e=this.loadGroomingSnippets();this.numGroomingSnippets=[];for(const t of this.groomingSnippets)this.numGroomingSnippets.push(t.length);this.normalSnippets=[],this.loadNormalSnippets(e),this.numNormalSnippets=this.normalSnippets.length}static getInstance(){return w.instance||(w.instance=new w),w.instance}createMessage(e,t){let s;try{s=new T(e,t.sender,t.text)}catch(a){E(`ReportManager.ts > createMessage > ERROR creating new message instance. #ERROR: ${a}`,h.ERROR)}return s}createSnippet(e,t){let s;try{const a=[];let r=l.ZERO;for(const e of t.Messages){const t=this.createMessage(r,e);if(void 0===t)throw"Snippet message created was undefined.";a.push(t),r++}if(!(a.length>l.ZERO))throw"The snippet had no messages";s=new f(e,t.stage,a)}catch(a){E(`ReportManager.ts > createSnippet > ERROR creating new snippet instance. #ERROR: ${a}`,h.ERROR)}return s}loadGroomingSnippets(){let e=l.ZERO;try{const t=v;let s=l.ZERO;for(const e of t){const t=this.createSnippet(s,e);if(void 0===t)throw"Snippet created was undefined.";this.groomingSnippets[e.arrayIdx].push(t),s++}e=s}catch(t){E(`ReportManager.ts > loadGroomingSnippets > ERROR loading grooming snippets. #ERROR: ${t}`,h.ERROR)}return e}loadNormalSnippets(e){try{const t=_;let s=l.ZERO;for(const a of t){const t=this.createSnippet(s+e,a);if(void 0===t)throw"Snippet created was undefined.";this.normalSnippets.push(t),s++}}catch(t){E(`ReportManager.ts > loadNormalSnippets > ERROR loading normal snippets. #ERROR: ${t}`,h.ERROR)}}generateGroomingSnippetList(e){const t=[];try{const s=Math.random();let a=!1;e>p.MIN_SNIPPETS_PER_REPORT&&(a=s>l.HALF);const r=a?U(e):-1;let n=l.ZERO;const o=[];while(n<e){let e;e=n===r?this.sampleNormalSnippet():this.sampleGroomingSnippet(),e&&!o.includes(e.id)&&(t.push(e),o.push(e.id),n++)}}catch(s){E(`ReportManager.ts > generateGroomingSnippetList > ERROR generating grooming snippet list. #ERROR: ${s}`,h.ERROR)}return t}generateNormalSnippetList(e){const t=[];try{let s=l.ZERO;const a=[];while(s<e){const e=this.sampleNormalSnippet();e&&!a.includes(e.id)&&(t.push(e),a.push(e.id),s++)}}catch(s){E(`ReportManager.ts > generateGroomingSnippetList > ERROR generating grooming snippet list. #ERROR: ${s}`,h.ERROR)}return t}generateSnippetList(e){let t=[];try{const s=p.MIN_SNIPPETS_PER_REPORT+y(p.MAX_SNIPPETS_PER_REPORT,p.MIN_SNIPPETS_PER_REPORT);t=e?this.generateGroomingSnippetList(s):this.generateNormalSnippetList(s)}catch(s){E(`ReportManager.ts > generateSnippetList > ERROR generating snippet list. #ERROR: ${s}`,h.ERROR)}return t}generateGroomerProfile(e,t,s){let a;const r=t||m.MIN_AGE_GROOMER,n=s||m.MAX_AGE_GROOMER;try{const t=y(r,n),s=e?t:y(m.MAX_AGE_TEENAGER,m.MIN_AGE_FAKE);a=new M(m.PLACEHOLDER_URL,m.PLACEHOLDER_USERNAME,t,s)}catch(o){E(`ReportManager.ts > generateTeenProfile > ERROR not generate a teenager profile. #ERROR: ${o}`,h.ERROR)}return a}generateTeenProfile(e){let t;try{const s=y(m.MAX_AGE_TEENAGER,m.MIN_AGE_TEENAGER),a=e?s:y(s+m.MAX_AGE_DIFFERENCE_TEENAGER,s);t=new M(m.PLACEHOLDER_URL,m.PLACEHOLDER_USERNAME,s,a)}catch(s){E(`ReportManager.ts > generateTeenProfile > ERROR not generate a teenager profile. #ERROR: ${s}`,h.ERROR)}return t}sampleGroomingSnippet(e){let t;try{let s=l.ZERO;e||(e=U(u.NUM_GROOMING_STAGES)),s=this.numGroomingSnippets[e],t=this.groomingSnippets[e][U(s)]}catch(s){E(`ReportManager.ts > sampleGroomingSnippet > ERROR sampling a random grooming snippet. #ERROR: ${s}`,h.ERROR)}return t}sampleNormalSnippet(){let e;try{e=this.normalSnippets[U(this.numNormalSnippets)]}catch(t){E(`ReportManager.ts > sampleNormalSnippet > ERROR sampling a random normal snippet. #ERROR: ${t}`,h.ERROR)}return e}generateReport(e){let t;E("generateReport > Start",h.INFO);try{const s=O(l.HALF),a=e?this.generateGroomerProfile(s):this.generateTeenProfile(s),r=O(l.HALF),n=this.generateTeenProfile(r);if(void 0===a||void 0===n)throw new Error("User profiles could not be created properly.");const o=[y(g.MIN_DAYS,g.MAX_DAYS),y(g.MIN_MONTHS,g.MAX_MONTHS),y(g.MIN_YEARS,g.MAX_YEARS)],i=this.generateSnippetList(e);if(!(i.length>l.ZERO))throw"The snippets array was empty.";t=new A(e,a,n,o,i)}catch(s){E(`ReportManager.ts > generateReport > ERROR generating a report. #ERROR: ${s}`,h.ERROR)}return E("generateReport > END",h.INFO),t}}(0,S.Z)(w,"instance",void 0);var b=w,D=JSON.parse('[{"question":"sampleQuestion1","options":["1","2","The correct answer is this one, click me!","4","5"],"correctAnswer":3,"day":1},{"question":"sampleQuestion2","options":["The correct answer is this one, click me!","2","3"],"correctAnswer":1,"day":2}]');class G{constructor(e,t,s,a){(0,S.Z)(this,"question",void 0),(0,S.Z)(this,"options",void 0),(0,S.Z)(this,"numOptions",void 0),(0,S.Z)(this,"correctAnswer",void 0),(0,S.Z)(this,"day",void 0),this.question=e,this.options=t,this.numOptions=t.length,this.correctAnswer=s,this.day=a}getAnswerResult(e){return e===this.correctAnswer}}var L=G;class q{constructor(){(0,S.Z)(this,"dailyQuizzes",void 0),(0,S.Z)(this,"numDailyQuizzes",void 0),this.dailyQuizzes=[],this.loadDailyQuizzes(),this.numDailyQuizzes=this.dailyQuizzes.length}static getInstance(){return q.instance||(q.instance=new q),q.instance}createDailyQuiz(e){let t;try{t=new L(e.question,e.options,e.correctAnswer-l.ONE,e.day-l.ONE)}catch(s){E(`QuizManager.ts > createDailyQuiz > ERROR creating new daily quiz instance. #ERROR: ${s}`,h.ERROR)}return t}loadDailyQuizzes(){try{const e=D;for(const t of e){const e=this.createDailyQuiz(t);if(void 0===e)throw"DailyQuiz created was undefined.";this.dailyQuizzes.push(e)}}catch(e){E(`QuizManager.ts > loadDailyQuizzes > ERROR loading daily quizzes. #ERROR: ${e}`,h.ERROR)}}sampleDailyQuiz(e){let t;try{do{const e=U(this.numDailyQuizzes);t=this.dailyQuizzes[e]}while(e&&t.day<e)}catch(s){E(`QuizManager.ts > sampleDailyQuiz > ERROR sampling a random daily quiz. #ERROR: ${s}`,h.ERROR)}return t}}(0,S.Z)(q,"instance",void 0);var z=q;class Z{constructor(e,t,s,a,r){(0,S.Z)(this,"numReports",void 0),(0,S.Z)(this,"selectSnippets",void 0),(0,S.Z)(this,"selectSnippetStages",void 0),(0,S.Z)(this,"probabilities",void 0),(0,S.Z)(this,"reports",void 0),(0,S.Z)(this,"dailyQuiz",void 0);const n=b.getInstance(),o=z.getInstance();this.numReports=t,this.selectSnippets=s,this.selectSnippetStages=s&&a,this.probabilities=r,this.reports=[];for(let d=0;d<t;){const e=n.generateReport(O(r[0]));void 0!==e&&(this.reports.push(e),d++)}const i=o.sampleDailyQuiz(e);i&&(this.dailyQuiz=i)}}var k=Z;class j{constructor(){(0,S.Z)(this,"days",void 0),(0,S.Z)(this,"numDays",void 0),this.days=[],this.loadDays(),this.numDays=this.days.length}static getInstance(){return j.instance||(j.instance=new j),j.instance}createDay(e){let t;try{t=new k(e.numDay-l.ONE,e.numReports,e.selectSnippets,e.selectSnippetReason,e.probabilities)}catch(s){E(`DayManager.ts > createDay > ERROR creating new day instance. #ERROR: ${s}`,h.ERROR)}return t}loadDays(){E("DayManager.ts > loadDays > START",h.INFO);try{const e=x;for(const t of e){const e=this.createDay(t);if(void 0===e)throw"DailyQuiz created was undefined.";this.days.push(e)}}catch(e){E(`DayManager.ts > loadDays > ERROR loading the day information and creating the days. #ERROR: ${e}`,h.ERROR)}E("DayManager.ts > loadDays > END",h.INFO)}getDay(e){let t;try{if(!(e<this.numDays&&this.days[e]))throw new Error(`There is no day with index ${e}, there are only ${this.numDays}`);t=this.days[e]}catch(s){E(`DayManager.ts > getDay > ERROR getting the day. #ERROR: ${s}`,h.ERROR)}return t}getNumDays(){return this.numDays}}(0,S.Z)(j,"instance",void 0);var Q=j;function Y(){V.commit("newDay")}function H(){V.commit("changeDay")}function B(e){V.commit("changeStage",e)}const V=(0,d.MT)({state:{visibleGameStage:o.REPORT,curDayIdx:0,curReportIdx:0,multiplier:l.ONE,points:0,selectGroomingSnippets:!0,selectSnippetStages:!0,snippetStagesSelected:[],curDay:void 0,curReport:void 0,curDailyQuiz:void 0,hasError:!1},mutations:{initialize(e){E("gameStore.ts > Initializing gameStore",h.INFO);try{e.visibleGameStage=o.REPORT,e.curDayIdx=0,e.points=l.ZERO,e.multiplier=c.INITIAL_MULTIPLIER,Y()}catch(t){E("gameStore.ts > initialize > Error initializing the game store. #ERROR: "+t,h.ERROR)}},newDay(e){try{const t=Q.getInstance().getDay(e.curDayIdx);if(void 0===t)throw new Error("Error when fetching the day.");e.curDay=t,e.selectGroomingSnippets=t.selectSnippets,e.selectSnippetStages=t.selectSnippetStages,e.curReportIdx=0;const s=t.reports[e.curReportIdx];if(void 0===t)throw new Error("Error when fetching the first report of the day.");e.curReport=s;const a=t.dailyQuiz;if(void 0===t)throw new Error("Error when fetching the daily quiz of the day.");e.curDailyQuiz=a}catch(t){E("gameStore.ts > newDay > Error resetting the state for a new day. #ERROR: "+t,h.ERROR)}},changeStage(e,t=!1){E(`From game stage: ${e.visibleGameStage}`,h.VERBOSE),e.visibleGameStage===o.REPORT||e.visibleGameStage===o.DAILY_QUIZ?e.visibleGameStage=o.RESULT:t?e.visibleGameStage=e.curReportIdx<e.curDay.numReports?o.REPORT:o.DAILY_QUIZ:(e.visibleGameStage=(e.visibleGameStage+l.ONE)%c.NUM_PLAYING_STAGES,H()),E(`To game stage: ${e.visibleGameStage}`,h.VERBOSE)},addScore(e,t){e.points+=t},changeMultiplier(e,t){e.multiplier+=t?R.SUCCESS_MULTIPLIER_INCREASE:l.NEG*R.SUCCESS_MULTIPLIER_DEDUCTION},changeDay(e){e.curDayIdx++,e.curDayIdx<Q.getInstance().getNumDays()?Y():E("Game finished.",h.INFO)},changeReport(e){e.curReportIdx++,e.curReportIdx<e.curDay.numReports?(B(!1),e.curReport=e.curDay.reports[e.curReportIdx]):B(!0),e.snippetStagesSelected=e.curReport&&e.curReport.snippets?Array(e.curReport.snippets.length).fill(u.NORMAL_SNIPPET_STAGE_VAL):[]},changeSnippetStageSelected(e,t){E(`gameStore.ts > changeSnippetStageSelected > new stage for idx ${t.idx} is ${t.stage}`,h.VERBOSE),e.snippetStagesSelected[t.idx]=t.stage}},getters:{aSnippetIsSelected:e=>{let t=!1;for(const s of e.snippetStagesSelected)if(s>l.ZERO){t=!0;break}return t}}});var F=s(3396);function $(e,t,s,a,r,n){const o=(0,F.up)("GameComponent");return(0,F.wg)(),(0,F.j4)(o)}var W=s(2268);const X=e=>((0,F.dD)("data-v-51c44fe3"),e=e(),(0,F.Cn)(),e),K={class:"game"},J={key:0},ee={key:0},te={key:0},se={key:0,class:"info"},ae={class:"info-text"},re=X((()=>(0,F._)("p",{class:"info-text"},"Informes restantes: X / X",-1))),ne={key:0};function oe(e,t,s,a,r,n){const o=(0,F.up)("ReportComponent"),d=(0,F.up)("DailyQuizCardComponent"),l=(0,F.up)("ResultCardComponent");return(0,F.wg)(),(0,F.iD)("div",K,[(0,F.Wm)(i.uT,{name:"slide-fade"},{default:(0,F.w5)((()=>[e.curGameStage===e.EGameStage.GAME_START?((0,F.wg)(),(0,F.iD)("div",J,[(0,F.Uk)(" HERE WOULD BE THE FIRST "),(0,F._)("div",{onClick:t[0]||(t[0]=(...t)=>e.next&&e.next(...t))},"CLICKME")])):(0,F.kq)("",!0)])),_:1}),(0,F.Wm)(i.uT,{name:"slide-fade"},{default:(0,F.w5)((()=>[e.curGameStage===e.EGameStage.NARRATION?((0,F.wg)(),(0,F.iD)("div",ee,[(0,F.Uk)(" HERE WOULD BE THE NARRATION "),(0,F._)("div",{onClick:t[1]||(t[1]=(...t)=>e.next&&e.next(...t))},"CLICKME")])):(0,F.kq)("",!0)])),_:1}),(0,F.Wm)(i.uT,{name:"fade"},{default:(0,F.w5)((()=>[e.curGameStage===e.EGameStage.REPORT?((0,F.wg)(),(0,F.iD)("div",te,[(0,F.Wm)(o,{onSolveReport:e.handleSolveReport},null,8,["onSolveReport"])])):(0,F.kq)("",!0)])),_:1}),(0,F.Wm)(i.uT,{name:"slide-fade"},{default:(0,F.w5)((()=>[e.curGameStage===e.EGameStage.REPORT?((0,F.wg)(),(0,F.iD)("div",se,[(0,F._)("p",ae,"Puntuación: "+(0,W.zw)(e.points)+" pts",1),re])):(0,F.kq)("",!0)])),_:1}),(0,F.Wm)(i.uT,{name:"slide-fade"},{default:(0,F.w5)((()=>[e.curGameStage===e.EGameStage.DAILY_QUIZ?((0,F.wg)(),(0,F.j4)(d,{key:0,onSolveDailyQuiz:e.handleSolveDailyQuiz},null,8,["onSolveDailyQuiz"])):(0,F.kq)("",!0)])),_:1}),(0,F.Wm)(i.uT,{name:"slide-fade"},{default:(0,F.w5)((()=>[e.curGameStage===e.EGameStage.RESULT?((0,F.wg)(),(0,F.j4)(l,{key:0,isReportResult:e.pointsGotten>=0,correctness:e.correctness,pointsGotten:e.pointsGotten},null,8,["isReportResult","correctness","pointsGotten"])):(0,F.kq)("",!0)])),_:1}),(0,F.Wm)(i.uT,{name:"slide-fade"},{default:(0,F.w5)((()=>[e.curGameStage===e.EGameStage.GAME_FINISHED?((0,F.wg)(),(0,F.iD)("div",ne,[(0,F.Uk)(" GAME FINISHED "),(0,F._)("div",{onClick:t[2]||(t[2]=(...t)=>e.next&&e.next(...t))},"CLICKME")])):(0,F.kq)("",!0)])),_:1})])}const ie={class:"report"},de={key:0},le={key:1},ce={key:2},ue={class:"report-buttons-container non-selectable-text"};function pe(e,t,s,a,r,n){const o=(0,F.up)("ProfilesPageComponent"),i=(0,F.up)("ChatSnippetPageComponent"),d=(0,F.up)("CButton"),l=(0,F.up)("ErrorModalComponent");return(0,F.wg)(),(0,F.iD)("div",ie,[0===e.currentPage?((0,F.wg)(),(0,F.iD)("div",de,[e.user1&&e.user2&&e.friendshipTime?((0,F.wg)(),(0,F.j4)(o,{key:0,user1:e.user1,user2:e.user2,friendshipTime:e.friendshipTime},null,8,["user1","user2","friendshipTime"])):(0,F.kq)("",!0)])):(0,F.kq)("",!0),1===e.currentPage&&e.snippetIdxPairsPage1?((0,F.wg)(),(0,F.iD)("div",le,[(0,F.Wm)(i,{snippetIdxPairs:e.snippetIdxPairsPage1},null,8,["snippetIdxPairs"])])):(0,F.kq)("",!0),2===e.currentPage&&e.snippetIdxPairsPage2?((0,F.wg)(),(0,F.iD)("div",ce,[(0,F.Wm)(i,{snippetIdxPairs:e.snippetIdxPairsPage2},null,8,["snippetIdxPairs"])])):(0,F.kq)("",!0),(0,F._)("div",ue,[(0,F._)("div",{onClick:t[0]||(t[0]=t=>e.changePage(!1)),class:"report-button prev-button"},"‹"),(0,F.Wm)(d,{color:"danger",variant:"outline",onClick:t[1]||(t[1]=t=>e.sendSolveReport(!0)),class:"answer-button my-button"},{default:(0,F.w5)((()=>[(0,F.Uk)("Grooming")])),_:1}),(0,F.Wm)(d,{color:"success",variant:"outline",onClick:t[2]||(t[2]=t=>e.sendSolveReport(!1)),class:"answer-button my-button"},{default:(0,F.w5)((()=>[(0,F.Uk)("Normal")])),_:1}),(0,F._)("div",{onClick:t[3]||(t[3]=t=>e.changePage(!0)),class:"report-button next-button"},"›")]),(0,F.Wm)(l,{onCloseModal:e.handleCloseModal,visibility:e.solveReportErrorModalVisible,message:"NO puedes marcar un informe como normal si tienes un snippet seleccionado."},null,8,["onCloseModal","visibility","message"])])}function me(e,t,s,a,r,n){const o=(0,F.up)("ChatSnippetComponent");return(0,F.wg)(!0),(0,F.iD)(F.HY,null,(0,F.Ko)(e.snippetIdxPairs,(e=>((0,F.wg)(),(0,F.iD)("div",{key:e[0].id},[(0,F.Wm)(o,{chatSnippet:e[0],arrayIdx:e[1]},null,8,["chatSnippet","arrayIdx"])])))),128)}const ge={class:"message-text"},Re={key:0,class:"floating-text-wrapper"},he=["onClick"];function Ee(e,t,s,a,r,n){const o=(0,F.up)("OnClickOutside");return(0,F.wg)(),(0,F.iD)(F.HY,null,[(0,F.Wm)(o,{onTrigger:e.hideOptions,onContextmenu:t[1]||(t[1]=(0,i.iM)((t=>e.handleRightClick()),["prevent"]))},{default:(0,F.w5)((()=>[(0,F._)("div",{id:"message-container",class:(0,W.C_)({"non-selectable-text":!0,"chat-snippet":e.stage<0,"chat-snippet-selected":e.stage>0}),onClick:t[0]||(t[0]=(...t)=>e.handleClickInside&&e.handleClickInside(...t))},[((0,F.wg)(!0),(0,F.iD)(F.HY,null,(0,F.Ko)(e.chatSnippet.messages,(e=>((0,F.wg)(),(0,F.iD)("div",{key:e.id,class:(0,W.C_)(e.sender)},[(0,F._)("p",ge,(0,W.zw)(e.text),1)],2)))),128)),(0,F.Wm)(i.uT,null,{default:(0,F.w5)((()=>[e.stage>0?((0,F.wg)(),(0,F.iD)("div",Re,(0,W.zw)(e.selectedStageName),1)):(0,F.kq)("",!0)])),_:1})],2)])),_:1},8,["onTrigger"]),(0,F.Wm)(i.uT,null,{default:(0,F.w5)((()=>[e.selectSnippetStage&&e.stageSelectorVisible?((0,F.wg)(),(0,F.iD)("div",{key:0,class:"non-selectable-text stages-list",style:(0,W.j5)({marginLeft:e.mousePosition.x+"px",top:e.mousePosition.y+"px"})},[((0,F.wg)(!0),(0,F.iD)(F.HY,null,(0,F.Ko)(e.stages,(t=>((0,F.wg)(),(0,F.iD)("div",{class:"stages-list-item",key:t[0],onClick:s=>e.handleClickStage({name:t[0],enumVal:t[1]})},(0,W.zw)(t[1])+": "+(0,W.zw)(t[0]),9,he)))),128))],4)):(0,F.kq)("",!0)])),_:1}),(0,F.Uk)(" "+(0,W.zw)(e.chatSnippet?.stage),1)],64)}var Se=s(1733),xe=(0,F.aZ)({name:"ChatSnippetComponent",components:{OnClickOutside:Se.vo},data(){return{stage:r.Normal,selectedStageName:"",stageSelectorVisible:!1,mousePosition:{x:0,y:0}}},props:{chatSnippet:f,arrayIdx:Number},computed:{selectSnippet(){return V.state.selectGroomingSnippets},selectSnippetStage(){return V.state.selectSnippetStages},stages(){return Object.entries(r).filter((([,e])=>"number"===typeof e))}},methods:{hideOptions(){this.stageSelectorVisible=!1},handleClickInside(e){try{const t=document.getElementById("message-container");if(null===t)throw new Error("Parent element was null");this.mousePosition.x=e.pageX-t.getBoundingClientRect().x,this.mousePosition.y=e.pageY+10,this.selectSnippet&&(this.selectSnippetStage?this.stageSelectorVisible=!this.stageSelectorVisible:(this.stage=this.stage*r.Normal,V.commit("changeSnippetStageSelected",{idx:this.arrayIdx,stage:this.stage})))}catch(t){E(`ChatSnippet.vue > handleClickInside >#ERROR: #ERROR: ${t}`,h.ERROR)}},handleClickStage(e){try{if(null===e.name||""===e.name)throw new Error("Stage name was null or empty.");if(null===e.enumVal||isNaN(e.enumVal))throw new Error("Value for the enum was null or not a numerical value");const t=Object.values(r).filter((e=>"number"===typeof e));if(!t.includes(e.enumVal))throw new Error("Value for the enum was not valid.");E(`ChatSnippet.vue > handleClickStage > ${e.name} ${e.enumVal}`,h.VERBOSE),this.selectedStageName=e.name,this.stage=e.enumVal,V.commit("changeSnippetStageSelected",{idx:this.arrayIdx,stage:e.enumVal}),this.stageSelectorVisible=!1}catch(t){E(`ChatSnippet.vue > handleClickStage > #ERROR: #ERROR: ${t}`,h.ERROR)}},handleRightClick(){this.stage=u.NORMAL_SNIPPET_STAGE_VAL,V.commit("changeSnippetStageSelected",{idx:this.arrayIdx,stage:u.NORMAL_SNIPPET_STAGE_VAL})}}}),ye=s(89);const Ue=(0,ye.Z)(xe,[["render",Ee],["__scopeId","data-v-627fcbd4"]]);var Oe=Ue,ve=(0,F.aZ)({name:"ChatSnippetPageComponent",components:{ChatSnippetComponent:Oe},props:{snippetIdxPairs:{type:Array}}});const _e=(0,ye.Z)(ve,[["render",me]]);var Ie=_e;const fe={class:"profile-page"};function Ce(e,t,s,a,r,n){const o=(0,F.up)("ProfileComponent");return(0,F.wg)(),(0,F.iD)("div",fe,[(0,F.Wm)(o,{user:e.user1},null,8,["user"]),(0,F.Wm)(o,{user:e.user2},null,8,["user"]),(0,F._)("p",null,"Han sido amigos por: "+(0,W.zw)(e.friendshipTime[2])+" años, "+(0,W.zw)(e.friendshipTime[1])+" meses y "+(0,W.zw)(e.friendshipTime[0])+" días",1)])}const Me={class:"profile-container"},Ne=["src"],Te={class:"profile-info"};function Pe(e,t,s,a,r,n){return(0,F.wg)(),(0,F.iD)("div",Me,[(0,F._)("img",{src:e.user.avatar,alt:"User 1 profile picture",class:"my-avatar"},null,8,Ne),(0,F._)("div",Te,[(0,F._)("p",null,(0,W.zw)(e.PROFILE_STRINGS.USERNAME)+" "+(0,W.zw)(e.user.username),1),(0,F._)("p",null,(0,W.zw)(e.PROFILE_STRINGS.ONLINE_AGE)+" "+(0,W.zw)(e.user.onlineAge),1),(0,F._)("p",null,(0,W.zw)(e.PROFILE_STRINGS.REAL_AGE)+" "+(0,W.zw)(e.user.realAge),1)])])}const Ae={USERNAME:"Username:",ONLINE_AGE:"Edad online:",REAL_AGE:"Edad real:",FRIENDSHIP_START:"Han sido amigos por: años, MMM meses y DDD días",FRIENDSHIP_YEARS:"años,",FRIENDSHIP_MONTHS:"meses y",FRIENDSHIP_DAYS:"días"},we={NUM_PLACEHOLDER:"YYY",REPORT_CORRECT:"¡Enhorabuena! Has sumado YYY puntos.\n ¡Sigue así!",REPORT_P_CORRECT:"Has sumado YYY puntos, pero no te confíes. \n¡Sigamos mejorando!",REPORT_INCORRECT:"Esta vez no has sumado puntos, pero no desistas. \n¡Sigamos mejorando!",QUIZ_CORRECT:"¡Enhorabuena! Se ha añadido 0.5 a tu multiplicador de puntuación.",QUIZ_INCORRECT:"Se ha reastado 0.1 a tu multiplicador de puntuación.",NEW_SCORE:"Nueva puntuación: YYY pts",NEW_MULTIPLIER:"Nuevo multiplicador: xYYY",CONTINUE:"Continuar"};var be=(0,F.aZ)({name:"ProfileComponent",data(){return{PROFILE_STRINGS:Ae}},props:{user:M}});const De=(0,ye.Z)(be,[["render",Pe],["__scopeId","data-v-e0cc0cc2"]]);var Ge=De,Le=(0,F.aZ)({name:"ProfilesPageComponent",data(){return{PROFILE_STRINGS:Ae}},components:{ProfileComponent:Ge},props:{user1:M,user2:M,friendshipTime:{type:Array}}});const qe=(0,ye.Z)(Le,[["render",Ce],["__scopeId","data-v-609e5b6e"]]);var ze=qe;const Ze=(0,F._)("h4",{style:{color:"red"}},"ERROR",-1);function ke(e,t,s,a,r,n){const o=(0,F.up)("CModalBody"),i=(0,F.up)("CButton"),d=(0,F.up)("CModalFooter"),l=(0,F.up)("CModal");return(0,F.wg)(),(0,F.j4)(l,{alignment:"center",visible:e.visibility,onClose:t[0]||(t[0]=()=>{e.sendCloseModal()})},{default:(0,F.w5)((()=>[(0,F.Wm)(o,null,{default:(0,F.w5)((()=>[Ze,(0,F.Uk)(" "+(0,W.zw)(e.message),1)])),_:1}),(0,F.Wm)(d,null,{default:(0,F.w5)((()=>[(0,F.Wm)(i,{color:"danger",variant:"outline",onClick:e.sendCloseModal,class:"my-button"},{default:(0,F.w5)((()=>[(0,F.Uk)("Cerrar")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["visible"])}var je=s(6947),Qe=(0,F.aZ)({name:"ErrorModalComponent",components:{CModal:je.Tk,CModalBody:je.sD,CModalFooter:je.Ym,CButton:je.u5},props:{message:String,visibility:Boolean},methods:{sendCloseModal(){this.$emit("closeModal")}}});const Ye=(0,ye.Z)(Qe,[["render",ke]]);var He=Ye,Be=(0,F.aZ)({name:"ReportComponent",components:{ChatSnippetPageComponent:Ie,ProfilesPageComponent:ze,ErrorModalComponent:He,CButton:je.u5},data(){return{currentPage:0,solveReportErrorModalVisible:!1,liveExampleVisible:!1}},methods:{changePage(e){const t=this.numPages?this.numPages:1;this.currentPage=e?Math.min(this.currentPage+1,t-1):Math.max(this.currentPage-1,0)},sendSolveReport(e){E(`ChatReport.vue > sendSolveReport > Grooming: ${e}`,h.VERBOSE);try{!e&&V.getters.aSnippetIsSelected?this.solveReportErrorModalVisible=!0:(this.$emit("solveReport",e),this.currentPage=l.ZERO)}catch(t){E(`ChatReport.vue > sendSolveReport > ERROR: Could not emit event. #ERROR: ${t}`,h.ERROR)}},handleCloseModal(){this.solveReportErrorModalVisible=!1}},computed:{snippetIdxPairsPage1(){const e=V.state.curReport;return e&&e.snippets?e.snippets.slice(l.ZERO,p.NUM_SNIPPETS_PER_PAGE).map(((e,t)=>[e,t])):[]},snippetIdxPairsPage2(){const e=V.state.curReport;return e&&e.snippets&&e.snippets.length>p.NUM_SNIPPETS_PER_PAGE?e.snippets.slice(p.NUM_SNIPPETS_PER_PAGE,2*p.NUM_SNIPPETS_PER_PAGE).map(((e,t)=>[e,t+p.NUM_SNIPPETS_PER_PAGE])):[]},numPages(){const e=V.state.curReport;return e&&e.snippets&&e.snippets.length>p.NUM_SNIPPETS_PER_PAGE?p.NUM_REPORT_PAGES_MULTI:p.NUM_REPORT_PAGES_SINGLE},user1(){const e=V.state.curReport;return e&&e.user1Profile?e.user1Profile:void 0},user2(){const e=V.state.curReport;return e&&e.user2Profile?e.user2Profile:void 0},friendshipTime(){const e=V.state.curReport;return e&&e.friendshipTime?e.friendshipTime:void 0}}});const Ve=(0,ye.Z)(Be,[["render",pe],["__scopeId","data-v-f7a96302"]]);var Fe=Ve;const $e=e=>((0,F.dD)("data-v-c93e51a2"),e=e(),(0,F.Cn)(),e),We={class:"non-selectable-text"},Xe=$e((()=>(0,F._)("p",{class:"big-text"},"¡Hora de poner a prueba lo aprendido!",-1))),Ke={class:"circle time-circle"},Je=$e((()=>(0,F._)("p",{class:"medium-big-text"},"Pregunta",-1))),et=["onClick"];function tt(e,t,s,a,r,n){const o=(0,F.up)("CCardBody"),i=(0,F.up)("CCard");return(0,F.wg)(),(0,F.j4)(i,{class:"text-center card"},{default:(0,F.w5)((()=>[(0,F.Wm)(o,{class:"card-body"},{default:(0,F.w5)((()=>[(0,F._)("div",We,[Xe,(0,F._)("div",Ke,(0,W.zw)(e.timeRemaining),1),Je,((0,F.wg)(!0),(0,F.iD)(F.HY,null,(0,F.Ko)(e.numOptions,(t=>((0,F.wg)(),(0,F.iD)("div",{key:t},[(0,F._)("div",{class:"my-button card-button",onClick:s=>e.sendSolveDailyQuiz(t-1)},(0,W.zw)(e.options[t-1]),9,et)])))),128))])])),_:1})])),_:1})}var st=(0,F.aZ)({name:"DailyQuizCardComponent",components:{CCard:je.xH,CCardBody:je.sl},data(){return{timeRemaining:R.TIME_TO_SOLVE,active:!1}},mounted(){this.active=!0,this.timeRemaining=R.TIME_TO_SOLVE,this.countdownTimer()},unmounted(){this.active=!1},methods:{countdownTimer(){this.active&&(this.timeRemaining>0?setTimeout((()=>{this.timeRemaining-=1,this.countdownTimer()}),1e3):this.sendSolveDailyQuiz(l.NEG))},sendSolveDailyQuiz(e){E(`DailyQuizCard.vue > sendSolveDailyQuiz > selectedOption: ${e}`,h.VERBOSE);try{this.$emit("solveDailyQuiz",e),this.timeRemaining=R.TIME_TO_SOLVE}catch(t){E(`ChatReport.vue > sendSolveReport > ERROR: Could not emit event. #ERROR: ${t}`,h.ERROR)}}},computed:{options(){const e=V.state.curDailyQuiz;return e?e.options:[]},numOptions(){const e=V.state.curDailyQuiz;return e?e.numOptions:l.ZERO}}});const at=(0,ye.Z)(st,[["render",tt],["__scopeId","data-v-c93e51a2"]]);var rt=at;const nt=e=>((0,F.dD)("data-v-6d29e882"),e=e(),(0,F.Cn)(),e),ot={class:"non-selectable-text"},it=nt((()=>(0,F._)("p",{class:"big-text"},"Tu respuesta fue:",-1))),dt={class:"main-info"},lt={key:0},ct=nt((()=>(0,F._)("p",{class:"answer correct"},"CORRECTA",-1))),ut=[ct],pt={key:1},mt=nt((()=>(0,F._)("p",{class:"answer partially-correct"},"PARCIALMENTE CORRECTA",-1))),gt=[mt],Rt={key:2},ht=nt((()=>(0,F._)("p",{class:"answer incorrect"},"INCORRECTA",-1))),Et=[ht],St={class:"big-text bold accepts-new-line"},xt={class:"medium-big-text accepts-new-line"};function yt(e,t,s,a,r,n){const o=(0,F.up)("CCardBody"),i=(0,F.up)("CCard");return(0,F.wg)(),(0,F.j4)(i,{class:"text-center card result-card"},{default:(0,F.w5)((()=>[(0,F.Wm)(o,{class:"card-body"},{default:(0,F.w5)((()=>[(0,F._)("div",ot,[it,(0,F._)("div",dt,[e.correctness===e.ECorrectness.CORRECT?((0,F.wg)(),(0,F.iD)("div",lt,ut)):e.correctness===e.ECorrectness.PARTIALLY_CORRECT?((0,F.wg)(),(0,F.iD)("div",pt,gt)):e.correctness===e.ECorrectness.INCORRECT?((0,F.wg)(),(0,F.iD)("div",Rt,Et)):(0,F.kq)("",!0),(0,F._)("p",St,(0,W.zw)(e.newScoreOrMultiplierMessage),1)]),(0,F._)("p",xt,(0,W.zw)(e.message),1),(0,F._)("div",{class:"my-button card-button",onClick:t[0]||(t[0]=(...t)=>e.handleContinue&&e.handleContinue(...t))},(0,W.zw)(e.RESULT_CARD_STRINGS.CONTINUE),1)])])),_:1})])),_:1})}var Ut=(0,F.aZ)({name:"ResultCardComponent",data(){return{ECorrectness:a,RESULT_CARD_STRINGS:we}},components:{CCard:je.xH,CCardBody:je.sl},props:{isReportResult:Boolean,correctness:Number,pointsGotten:Number},methods:{handleContinue(){V.commit("changeStage",this.isReportResult)}},computed:{message(){let e="";try{e=this.isReportResult?this.correctness===a.CORRECT?we.REPORT_CORRECT.replace(we.NUM_PLACEHOLDER,this.pointsGotten?this.pointsGotten.toString():"0"):this.correctness===a.PARTIALLY_CORRECT?we.REPORT_P_CORRECT.replace(we.NUM_PLACEHOLDER,this.pointsGotten?this.pointsGotten.toString():"0"):we.REPORT_INCORRECT:this.correctness===a.CORRECT?we.QUIZ_CORRECT:we.QUIZ_INCORRECT}catch(t){E("ResultCard.vue > Computed - message > Error computing the message, ERROR: "+t,h.ERROR)}return e},newScoreOrMultiplierMessage(){let e="";try{e=this.isReportResult?we.NEW_SCORE.replace(we.NUM_PLACEHOLDER,V.state.points.toString()):we.NEW_MULTIPLIER.replace(we.NUM_PLACEHOLDER,V.state.multiplier.toString())}catch(t){E("ResultCard.vue > Computed - newScoreOrMultiplierMessage > ERROR: "+t,h.ERROR)}return e}}});const Ot=(0,ye.Z)(Ut,[["render",yt],["__scopeId","data-v-6d29e882"]]);var vt=Ot,_t=(0,F.aZ)({name:"GameComponent",components:{ReportComponent:Fe,DailyQuizCardComponent:rt,ResultCardComponent:vt},data(){return{pointsGotten:l.NEG,correctness:a.INCORRECT,EGameStage:o}},methods:{handleSolveReport(e){const t=V.state;let s=l.ZERO;t.curReport&&(s=t.curReport.getAnswerResult(e,t.selectGroomingSnippets,t.selectSnippetStages,t.snippetStagesSelected)),s===l.ONE?this.correctness=a.CORRECT:s>l.ZERO?this.correctness=a.PARTIALLY_CORRECT:this.correctness=a.INCORRECT,s=V.state.multiplier*p.POINTS_PER_REPORT*s,this.pointsGotten=s,V.commit("addScore",s),V.commit("changeReport")},next(){V.commit("changeStage")},handleSolveDailyQuiz(e){const t=V.state;let s=!1;t.curDailyQuiz&&(s=t.curDailyQuiz.getAnswerResult(e)),this.correctness=s?a.CORRECT:a.INCORRECT,this.pointsGotten=l.NEG,V.commit("changeMultiplier",s),V.commit("changeStage")}},created(){V.commit("initialize")},computed:{points(){return V.state.points},isGrooming(){return!!V.state.curReport&&V.state.curReport.isGrooming},curGameStage(){return V.state.visibleGameStage}}});const It=(0,ye.Z)(_t,[["render",oe],["__scopeId","data-v-51c44fe3"]]);var ft=It,Ct=(0,F.aZ)({name:"App",components:{GameComponent:ft}});const Mt=(0,ye.Z)(Ct,[["render",$]]);var Nt=Mt;const Tt=(0,i.ri)(Nt);Tt.use(V),Tt.mount("#app")}},t={};function s(a){var r=t[a];if(void 0!==r)return r.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,a,r,n){if(!a){var o=1/0;for(c=0;c<e.length;c++){a=e[c][0],r=e[c][1],n=e[c][2];for(var i=!0,d=0;d<a.length;d++)(!1&n||o>=n)&&Object.keys(s.O).every((function(e){return s.O[e](a[d])}))?a.splice(d--,1):(i=!1,n<o&&(o=n));if(i){e.splice(c--,1);var l=r();void 0!==l&&(t=l)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[a,r,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,n,o=a[0],i=a[1],d=a[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(d)var c=d(s)}for(t&&t(a);l<o.length;l++)n=o[l],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(c)},a=self["webpackChunkgrooming_minigame"]=self["webpackChunkgrooming_minigame"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(4380)}));a=s.O(a)})();
//# sourceMappingURL=app.8f59985b.js.map